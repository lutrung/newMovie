{"ast":null,"code":"var _jsxFileName = \"E:\\\\FrontEnd\\\\Project\\\\newMovie\\\\src\\\\Pages\\\\Admin\\\\Movie\\\\AddMovie.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable array-callback-return */\n\n/* eslint-disable react-hooks/rules-of-hooks */\nimport React, { useEffect, useRef, useState } from 'react';\nimport imgEmpty from '../../../Assets/Images/unnamed.png';\nimport moment from 'moment';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport DatePicker from '@mui/lab/DatePicker';\nimport { useDispatch } from 'react-redux';\nimport { addMovie } from '../../../Redux/Actions/MovieManagerActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddMovie(_ref) {\n  _s();\n\n  let {\n    open,\n    handleClose\n  } = _ref;\n  const dispatch = useDispatch();\n  const [errors, setErrors] = useState({\n    tenPhim: {\n      error: false,\n      message: 'Tên phim không được bỏ trống'\n    },\n    trailer: {\n      error: false,\n      message: 'Trailer không được bỏ trống'\n    },\n    ngayKhoiChieu: {\n      error: false,\n      message: 'Ngày khởi chiếu được bỏ trống'\n    },\n    danhGia: {\n      error: false,\n      message: 'Đánh giá không được bỏ trống'\n    },\n    moTa: {\n      error: false,\n      message: 'Mô tả không được bỏ trống'\n    },\n    hinhAnh: {\n      error: false,\n      message: 'Hình ảnh không được bỏ trống'\n    },\n    biDanh: {\n      error: false,\n      message: 'Bí danh không được bỏ trống'\n    }\n  });\n  const [dataMovie, setDataMovie] = useState({\n    tenPhim: '',\n    trailer: '',\n    ngayKhoiChieu: new Date(),\n    danhGia: '',\n    moTa: '',\n    hinhAnh: {},\n    biDanh: '',\n    maNhom: 'GP01'\n  });\n  const inputAdd = useRef(null);\n\n  const onAdd = () => {\n    inputAdd.current.click();\n  };\n\n  const [imgSrc, setImgSrc] = useState(imgEmpty);\n\n  const onSelectDate = newDate => {\n    console.log(newDate);\n    let newDataMovie = { ...dataMovie,\n      ngayKhoiChieu: newDate\n    };\n    setDataMovie(newDataMovie);\n  };\n\n  const onChangeInput = event => {\n    let {\n      name,\n      value\n    } = event.target;\n\n    if (name === 'hinhAnh') {\n      let newImgSrc = event.target.files[0];\n\n      if (newImgSrc.type === 'image/png' || newImgSrc.type === 'image/jpg' || newImgSrc.type === 'image/gif' || newImgSrc.type === 'image/jpeg') {\n        let newDataMovie = { ...dataMovie,\n          [name]: newImgSrc\n        };\n        setDataMovie(newDataMovie);\n        setImgSrc(URL.createObjectURL(newImgSrc));\n      }\n    } else if (name === 'danhGia') {\n      let newDataMovie = { ...dataMovie,\n        [name]: value\n      };\n      setDataMovie(newDataMovie);\n\n      if (value < 0 || value > 10) {\n        let newDataMovie = { ...dataMovie,\n          [name]: 0\n        };\n        setDataMovie(newDataMovie);\n        let newErrors = { ...errors\n        };\n        newErrors[name].error = true;\n        newErrors[name].message = 'Đánh giá từ 0 - 10';\n        setErrors(newErrors);\n      } else if (!value) {\n        let newErrors = { ...errors\n        };\n        newErrors[name].error = true;\n        setErrors(newErrors);\n      } else {\n        let newErrors = { ...errors\n        };\n        newErrors[name].error = false;\n        newErrors[name].message = 'Đánh giá không được bỏ trống';\n        setErrors(newErrors);\n      }\n    } else {\n      let newDataMovie = { ...dataMovie,\n        [name]: value\n      };\n      setDataMovie(newDataMovie);\n\n      if (!value) {\n        let newErrors = { ...errors\n        };\n        newErrors[name].error = true;\n        setErrors(newErrors);\n      } else {\n        let newErrors = { ...errors\n        };\n        newErrors[name].error = false;\n        setErrors(newErrors);\n      }\n    }\n  };\n\n  const resetForm = () => {\n    setDataMovie({\n      tenPhim: '',\n      trailer: '',\n      ngayKhoiChieu: new Date(),\n      danhGia: '',\n      moTa: '',\n      hinhAnh: {},\n      biDanh: '',\n      maNhom: 'GP01'\n    });\n    setErrors({\n      tenPhim: {\n        error: false,\n        message: 'Tên phim không được bỏ trống'\n      },\n      trailer: {\n        error: false,\n        message: 'Trailer không được bỏ trống'\n      },\n      ngayKhoiChieu: {\n        error: false,\n        message: 'Ngày khởi chiếu được bỏ trống'\n      },\n      danhGia: {\n        error: false,\n        message: 'Đánh giá không được bỏ trống'\n      },\n      moTa: {\n        error: false,\n        message: 'Mô tả không được bỏ trống'\n      },\n      hinhAnh: {\n        error: false,\n        message: 'Hình ảnh không được bỏ trống'\n      },\n      biDanh: {\n        error: false,\n        message: 'Bí danh không được bỏ trống'\n      }\n    });\n    setImgSrc(imgEmpty);\n  };\n\n  const checkEmpty = text => {\n    return !/[^\\s]/.test(text);\n  };\n\n  const checkValidation = data => {\n    var _Object$keys, _Object$values;\n\n    let outPut = { ...errors\n    };\n    (_Object$keys = Object.keys(errors)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.forEach(item => {\n      if (checkEmpty(data[item])) {\n        outPut[item].error = true;\n      } else if (data[item] === null) {\n        outPut[item].error = true;\n      } else {\n        outPut[item].error = false;\n      }\n    });\n    setErrors(outPut);\n    const isError = (_Object$values = Object.values(outPut)) === null || _Object$values === void 0 ? void 0 : _Object$values.some(item => item.error);\n    return isError;\n  };\n\n  const trimValues = data => {\n    return Object.keys(data).map(key => {\n      if (key !== 'hinhAnh' && key !== 'danhGia') {\n        return data[key] = String(data[key]).trim();\n      } else if (key === 'danhGia') {\n        return data[key] = Number(data[key]);\n      }\n    });\n  };\n\n  const onSubmit = () => {\n    let checkError = checkValidation(dataMovie);\n\n    if (checkError) {\n      return;\n    } else {\n      dataMovie.ngayKhoiChieu = moment(dataMovie.ngayKhoiChieu).format('DD/MM/YYYY');\n      trimValues(dataMovie);\n      let form_data = new FormData();\n\n      for (let key in dataMovie) {\n        form_data.append(key, dataMovie[key]);\n      }\n\n      dispatch(addMovie(form_data));\n      resetForm();\n      handleClose();\n    }\n  };\n\n  useEffect(() => {\n    if (!open) {\n      resetForm();\n    }\n  }, [open]);\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    fullWidth: true,\n    maxWidth: \"md\",\n    open: open,\n    keepMounted: true,\n    onClose: handleClose,\n    \"aria-describedby\": \"alert-dialog-slide-description\",\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      sx: {\n        fontSize: '30px'\n      },\n      children: \"Thêm phim\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      dividers: true,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'start',\n          '& .MuiTextField-root': {\n            mb: 2,\n            width: '100%'\n          },\n          '& .MuiOutlinedInput-root, .MuiInputLabel-root': {\n            fontSize: '15px'\n          },\n          '& .form-left': {\n            width: '60%'\n          },\n          '& .form-right': {\n            width: '37%'\n          },\n          '& .MuiButton-root': {\n            display: 'block',\n            mb: 2,\n            fontSize: '15px',\n            backgroundColor: '#d7d7d7',\n            color: '#616161',\n            width: '100%'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-left\",\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            name: \"tenPhim\",\n            label: \"T\\xEAn Phim\",\n            variant: \"outlined\",\n            onChange: onChangeInput,\n            value: dataMovie.tenPhim,\n            error: errors.tenPhim.error,\n            helperText: errors.tenPhim.error ? errors.tenPhim.message : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            name: \"trailer\",\n            label: \"Trailer\",\n            variant: \"outlined\",\n            onChange: onChangeInput,\n            value: dataMovie.trailer,\n            error: errors.trailer.error,\n            helperText: errors.trailer.error ? errors.trailer.message : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            name: \"biDanh\",\n            label: \"B\\xED Danh\",\n            variant: \"outlined\",\n            onChange: onChangeInput,\n            value: dataMovie.biDanh,\n            error: errors.biDanh.error,\n            helperText: errors.biDanh.error ? errors.biDanh.message : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            name: \"danhGia\",\n            label: \"\\u0110\\xE1nh gi\\xE1\",\n            variant: \"outlined\",\n            type: \"number\",\n            onChange: onChangeInput,\n            value: dataMovie.danhGia,\n            error: errors.danhGia.error,\n            helperText: errors.danhGia.error ? errors.danhGia.message : '',\n            InputProps: {\n              inputProps: {\n                max: 10,\n                min: 0\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            name: \"maNhom\",\n            label: \"M\\xE3 nh\\xF3m\",\n            value: \"GP01\",\n            disabled: true,\n            variant: \"outlined\",\n            onChange: onChangeInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            required: true,\n            name: \"moTa\",\n            label: \"M\\xF4 t\\u1EA3\",\n            multiline: true,\n            rows: 3,\n            variant: \"outlined\",\n            onChange: onChangeInput,\n            value: dataMovie.moTa,\n            error: errors.moTa.error,\n            helperText: errors.moTa.error ? errors.moTa.message : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-right\",\n          children: [/*#__PURE__*/_jsxDEV(LocalizationProvider, {\n            dateAdapter: AdapterDateFns,\n            children: /*#__PURE__*/_jsxDEV(DatePicker, {\n              label: \"Ng\\xE0y kh\\u1EDFi chi\\u1EBFu\",\n              value: new Date(dataMovie.ngayKhoiChieu),\n              name: \"ngayKhoiChieu\",\n              onChange: newDate => onSelectDate(newDate),\n              disablePast: true,\n              renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n                required: true,\n                error: errors.ngayKhoiChieu.error,\n                helperText: errors.ngayKhoiChieu.error ? errors.ngayKhoiChieu.message : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 58\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: () => onAdd(),\n            children: \"T\\u1EA3i \\u1EA3nh l\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"hinhAnh\",\n            type: \"file\",\n            hidden: true,\n            ref: inputAdd,\n            onChange: onChangeInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              width: '100%'\n            },\n            src: imgSrc,\n            alt: \"...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"error\",\n        onClick: handleClose,\n        children: \"H\\u1EE7y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: onSubmit,\n        type: \"submit\",\n        children: \"Th\\xEAm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AddMovie, \"U+3FTsXL1sMyWGk7jvmYoOwtNvw=\", false, function () {\n  return [useDispatch];\n});\n\n_c = AddMovie;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddMovie\");","map":{"version":3,"sources":["E:/FrontEnd/Project/newMovie/src/Pages/Admin/Movie/AddMovie.js"],"names":["React","useEffect","useRef","useState","imgEmpty","moment","Box","TextField","Button","Dialog","DialogActions","DialogContent","DialogTitle","AdapterDateFns","LocalizationProvider","DatePicker","useDispatch","addMovie","AddMovie","open","handleClose","dispatch","errors","setErrors","tenPhim","error","message","trailer","ngayKhoiChieu","danhGia","moTa","hinhAnh","biDanh","dataMovie","setDataMovie","Date","maNhom","inputAdd","onAdd","current","click","imgSrc","setImgSrc","onSelectDate","newDate","console","log","newDataMovie","onChangeInput","event","name","value","target","newImgSrc","files","type","URL","createObjectURL","newErrors","resetForm","checkEmpty","text","test","checkValidation","data","outPut","Object","keys","forEach","item","isError","values","some","trimValues","map","key","String","trim","Number","onSubmit","checkError","format","form_data","FormData","append","fontSize","display","justifyContent","alignItems","mb","width","backgroundColor","color","inputProps","max","min","params"],"mappings":"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","sourcesContent":["/* eslint-disable array-callback-return */\r\n/* eslint-disable react-hooks/rules-of-hooks */\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport imgEmpty from '../../../Assets/Images/unnamed.png'\r\nimport moment from 'moment';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\n\r\n\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport DatePicker from '@mui/lab/DatePicker';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addMovie } from '../../../Redux/Actions/MovieManagerActions';\r\n\r\n\r\nexport default function AddMovie({ open, handleClose }) {\r\n    const dispatch = useDispatch()\r\n    const [errors, setErrors] = useState({\r\n        tenPhim: {\r\n            error: false,\r\n            message: 'Tên phim không được bỏ trống',\r\n        },\r\n        trailer: {\r\n            error: false,\r\n            message: 'Trailer không được bỏ trống',\r\n        },\r\n        ngayKhoiChieu: {\r\n            error: false,\r\n            message: 'Ngày khởi chiếu được bỏ trống',\r\n        },\r\n        danhGia: {\r\n            error: false,\r\n            message: 'Đánh giá không được bỏ trống',\r\n        },\r\n        moTa: {\r\n            error: false,\r\n            message: 'Mô tả không được bỏ trống',\r\n        },\r\n        hinhAnh: {\r\n            error: false,\r\n            message: 'Hình ảnh không được bỏ trống',\r\n        },\r\n        biDanh: {\r\n            error: false,\r\n            message: 'Bí danh không được bỏ trống',\r\n        },\r\n    })\r\n    const [dataMovie, setDataMovie] = useState({\r\n        tenPhim: '',\r\n        trailer: '',\r\n        ngayKhoiChieu: new Date(),\r\n        danhGia: '',\r\n        moTa: '',\r\n        hinhAnh: {},\r\n        biDanh: '',\r\n        maNhom: 'GP01',\r\n    })\r\n    const inputAdd = useRef(null);\r\n    const onAdd = () => {\r\n        inputAdd.current.click();\r\n    };\r\n    const [imgSrc, setImgSrc] = useState(imgEmpty);\r\n    const onSelectDate = (newDate) => {\r\n        console.log(newDate);\r\n        let newDataMovie = { ...dataMovie, ngayKhoiChieu: newDate }\r\n        setDataMovie(newDataMovie)\r\n    }\r\n    const onChangeInput = (event) => {\r\n        let { name, value } = event.target\r\n        if (name === 'hinhAnh') {\r\n            let newImgSrc = event.target.files[0]\r\n            if (newImgSrc.type === 'image/png' || newImgSrc.type === 'image/jpg' || newImgSrc.type === 'image/gif' || newImgSrc.type === 'image/jpeg') {\r\n                let newDataMovie = { ...dataMovie, [name]: newImgSrc }\r\n                setDataMovie(newDataMovie)\r\n                setImgSrc(URL.createObjectURL(newImgSrc))\r\n            }\r\n        } else if (name === 'danhGia') {\r\n            let newDataMovie = { ...dataMovie, [name]: value }\r\n            setDataMovie(newDataMovie)\r\n            if (value < 0 || value > 10) {\r\n                let newDataMovie = { ...dataMovie, [name]: 0 }\r\n                setDataMovie(newDataMovie)\r\n                let newErrors = { ...errors }\r\n                newErrors[name].error = true\r\n                newErrors[name].message = 'Đánh giá từ 0 - 10'\r\n                setErrors(newErrors)\r\n            } else if (!value) {\r\n                let newErrors = { ...errors }\r\n                newErrors[name].error = true\r\n                setErrors(newErrors)\r\n            } else {\r\n                let newErrors = { ...errors }\r\n                newErrors[name].error = false\r\n                newErrors[name].message = 'Đánh giá không được bỏ trống'\r\n                setErrors(newErrors)\r\n            }\r\n        } else {\r\n            let newDataMovie = { ...dataMovie, [name]: value }\r\n            setDataMovie(newDataMovie)\r\n            if (!value) {\r\n                let newErrors = { ...errors }\r\n                newErrors[name].error = true\r\n                setErrors(newErrors)\r\n            } else {\r\n                let newErrors = { ...errors }\r\n                newErrors[name].error = false\r\n                setErrors(newErrors)\r\n            }\r\n        }\r\n    }\r\n    const resetForm = () => {\r\n        setDataMovie({\r\n            tenPhim: '',\r\n            trailer: '',\r\n            ngayKhoiChieu: new Date(),\r\n            danhGia: '',\r\n            moTa: '',\r\n            hinhAnh: {},\r\n            biDanh: '',\r\n            maNhom: 'GP01',\r\n        })\r\n        setErrors({\r\n            tenPhim: {\r\n                error: false,\r\n                message: 'Tên phim không được bỏ trống',\r\n            },\r\n            trailer: {\r\n                error: false,\r\n                message: 'Trailer không được bỏ trống',\r\n            },\r\n            ngayKhoiChieu: {\r\n                error: false,\r\n                message: 'Ngày khởi chiếu được bỏ trống',\r\n            },\r\n            danhGia: {\r\n                error: false,\r\n                message: 'Đánh giá không được bỏ trống',\r\n            },\r\n            moTa: {\r\n                error: false,\r\n                message: 'Mô tả không được bỏ trống',\r\n            },\r\n            hinhAnh: {\r\n                error: false,\r\n                message: 'Hình ảnh không được bỏ trống',\r\n            },\r\n            biDanh: {\r\n                error: false,\r\n                message: 'Bí danh không được bỏ trống',\r\n            },\r\n        })\r\n        setImgSrc(imgEmpty)\r\n    }\r\n    const checkEmpty = (text) => {\r\n        return !/[^\\s]/.test(text);\r\n    }\r\n    const checkValidation = (data) => {\r\n        let outPut = { ...errors };\r\n        Object.keys(errors)?.forEach((item) => {\r\n            if (checkEmpty(data[item])) {\r\n                outPut[item].error = true;\r\n            } else if (data[item] === null) {\r\n                outPut[item].error = true;\r\n            } else {\r\n                outPut[item].error = false;\r\n            }\r\n        });\r\n        setErrors(outPut);\r\n        const isError = Object.values(outPut)?.some((item) => item.error);\r\n        return isError;\r\n    };\r\n    const trimValues = (data) => {\r\n        return Object.keys(data).map((key) => {\r\n            if (key !== 'hinhAnh' && key !== 'danhGia') {\r\n                return data[key] = String(data[key]).trim()\r\n            } else if (key === 'danhGia') {\r\n                return data[key] = Number(data[key])\r\n            }\r\n        });\r\n    }\r\n    const onSubmit = () => {\r\n        let checkError = checkValidation(dataMovie)\r\n        if (checkError) {\r\n            return\r\n        } else {\r\n            dataMovie.ngayKhoiChieu = moment(dataMovie.ngayKhoiChieu).format('DD/MM/YYYY')\r\n            trimValues(dataMovie)\r\n            let form_data = new FormData();\r\n            for (let key in dataMovie) {\r\n                form_data.append(key, dataMovie[key]);\r\n            }\r\n            dispatch(addMovie(form_data))\r\n            resetForm()\r\n            handleClose()\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!open) {\r\n            resetForm()\r\n        }\r\n    }, [open])\r\n    return (\r\n        <Dialog\r\n            fullWidth\r\n            maxWidth='md'\r\n            open={open}\r\n            keepMounted\r\n            onClose={handleClose}\r\n            aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n            <DialogTitle sx={{ fontSize: '30px' }}>{\"Thêm phim\"}</DialogTitle>\r\n            <DialogContent dividers>\r\n                <Box sx={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'start',\r\n                    '& .MuiTextField-root': { mb: 2, width: '100%' },\r\n                    '& .MuiOutlinedInput-root, .MuiInputLabel-root': { fontSize: '15px' },\r\n                    '& .form-left': { width: '60%' },\r\n                    '& .form-right': { width: '37%' },\r\n                    '& .MuiButton-root': { display: 'block', mb: 2, fontSize: '15px', backgroundColor: '#d7d7d7', color: '#616161', width: '100%' },\r\n                }}>\r\n                    <div className='form-left'>\r\n                        <TextField\r\n                            required\r\n                            name='tenPhim'\r\n                            label=\"Tên Phim\"\r\n                            variant=\"outlined\"\r\n                            onChange={onChangeInput}\r\n                            value={dataMovie.tenPhim}\r\n                            error={errors.tenPhim.error}\r\n                            helperText={errors.tenPhim.error ? errors.tenPhim.message : ''}\r\n                        />\r\n                        <TextField\r\n                            required\r\n                            name='trailer'\r\n                            label=\"Trailer\"\r\n                            variant=\"outlined\"\r\n                            onChange={onChangeInput}\r\n                            value={dataMovie.trailer}\r\n                            error={errors.trailer.error}\r\n                            helperText={errors.trailer.error ? errors.trailer.message : ''}\r\n                        />\r\n                        <TextField\r\n                            required\r\n                            name='biDanh'\r\n                            label=\"Bí Danh\"\r\n                            variant=\"outlined\"\r\n                            onChange={onChangeInput}\r\n                            value={dataMovie.biDanh}\r\n                            error={errors.biDanh.error}\r\n                            helperText={errors.biDanh.error ? errors.biDanh.message : ''}\r\n                        />\r\n                        <TextField\r\n                            required\r\n                            name='danhGia'\r\n                            label=\"Đánh giá\"\r\n                            variant=\"outlined\"\r\n                            type='number'\r\n                            onChange={onChangeInput}\r\n                            value={dataMovie.danhGia}\r\n                            error={errors.danhGia.error}\r\n                            helperText={errors.danhGia.error ? errors.danhGia.message : ''}\r\n                            InputProps={{\r\n                                inputProps: {\r\n                                    max: 10, min: 0\r\n                                }\r\n                            }}\r\n                        />\r\n                        <TextField\r\n                            name='maNhom'\r\n                            label=\"Mã nhóm\"\r\n                            value='GP01'\r\n                            disabled\r\n                            variant=\"outlined\"\r\n                            onChange={onChangeInput}\r\n                        />\r\n                        <TextField\r\n                            required\r\n                            name='moTa'\r\n                            label=\"Mô tả\"\r\n                            multiline\r\n                            rows={3}\r\n                            variant=\"outlined\"\r\n                            onChange={onChangeInput}\r\n                            value={dataMovie.moTa}\r\n                            error={errors.moTa.error}\r\n                            helperText={errors.moTa.error ? errors.moTa.message : ''}\r\n                        />\r\n                    </div>\r\n                    <div className='form-right'>\r\n                        <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                            <DatePicker\r\n                                label=\"Ngày khởi chiếu\"\r\n                                value={new Date(dataMovie.ngayKhoiChieu)}\r\n                                name='ngayKhoiChieu'\r\n                                onChange={(newDate) => onSelectDate(newDate)}\r\n                                disablePast\r\n                                renderInput={(params) => <TextField {...params}\r\n                                    required\r\n                                    error={errors.ngayKhoiChieu.error}\r\n                                    helperText={errors.ngayKhoiChieu.error ? errors.ngayKhoiChieu.message : ''}\r\n                                />}\r\n                            />\r\n                        </LocalizationProvider>\r\n                        <Button variant='contained' onClick={() => onAdd()} >\r\n                            Tải ảnh lên\r\n                        </Button>\r\n                        <input name='hinhAnh' type='file' hidden ref={inputAdd} onChange={onChangeInput} />\r\n                        <img style={{ width: '100%' }} src={imgSrc} alt='...' />\r\n                    </div>\r\n                </Box>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant='contained' color='error' onClick={handleClose} >Hủy</Button>\r\n                <Button variant='contained' color='primary' onClick={onSubmit} type='submit'>Thêm</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n\r\n    );\r\n};"]},"metadata":{},"sourceType":"module"}