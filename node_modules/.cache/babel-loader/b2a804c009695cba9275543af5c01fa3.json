{"ast":null,"code":"import _regeneratorRuntime from\"D:/FrontEnd/Project/newMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/FrontEnd/Project/newMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import Axios from\"axios\";import Swal from\"sweetalert2\";import{history}from'../../Util/history';import{PERSONAL_INFO,SIGN_IN,USER_LIST,USER_UPDATE}from\"../Const/MovieManagerConst\";var token='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5Mb3AiOiJCb290Y2FtcCAxNSIsIkhldEhhblN0cmluZyI6IjIwLzA2LzIwMjIiLCJIZXRIYW5UaW1lIjoiMTY1NTY4MzIwMDAwMCIsIm5iZiI6MTYyNjI4MjAwMCwiZXhwIjoxNjU1ODMwODAwfQ.p47FFJpArherjwlM71xTzdulAQIW37pR6fRGD3t3Ji0';export var signInAction=function signInAction(accounts){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/quanlynguoidung/dangnhap',method:'POST',data:accounts// headers: {\n//     TokenCybersoft: token\n// }\n});case 3:result=_context.sent;console.log(result.data);localStorage.setItem(\"USER_SIGNIN\",JSON.stringify(result.data));localStorage.setItem(\"ACCESSTOKEN\",result.data.accessToken);Swal.fire('Thông báo','Đăng nhập thành công','success');dispatch({type:SIGN_IN,userSignIn:result.data});if(result.data==='QuanTri'){history.push('/admin');}else{history.push('/');}_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);Swal.fire('Thông báo','Tài khoản hoặc mật khẩu không đúng','error');case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var signUpAction=function signUpAction(accounts){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangKy',method:'POST',data:accounts// headers: {\n//     TokenCybersoft: token\n// }\n}).then(function(result){Swal.fire('Thông báo','Đăng ký thành công','success');history.push('/dangnhap');});case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);Swal.fire('Thông báo','Đăng ký thất bại','error');case 8:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));};export var getUserList=function getUserList(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=GP01',method:'GET',headers:{TokenCybersoft:token}});case 3:result=_context3.sent;dispatch({type:USER_LIST,userList:result.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x2){return _ref3.apply(this,arguments);};}();};export var deleteUser=function deleteUser(account){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return Axios({url:\"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=\".concat(account),method:'DELETE',headers:{Authorization:'Bearer '+localStorage.getItem(\"ACCESSTOKEN\"),TokenCybersoft:token}});case 3:dispatch(getUserList());Swal.fire('Thông báo','Xóa thành công','success');_context4.next=11;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);Swal.fire('Thông báo','Xóa thất bại','error');console.log(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x3){return _ref4.apply(this,arguments);};}();};export var addUser=function addUser(formUser){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/ThemNguoiDung',method:'POST',data:formUser,headers:{Authorization:'Bearer '+localStorage.getItem(\"ACCESSTOKEN\"),TokenCybersoft:token}});case 3:dispatch(getUserList());Swal.fire('Thông báo','Thêm thành công','success');_context5.next=11;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);Swal.fire('Thông báo','Thêm thất bại','error');console.log(_context5.t0);case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function(_x4){return _ref5.apply(this,arguments);};}();};export var getUserUpdate=function getUserUpdate(user){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return Axios({url:\"https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/LayThongTinNguoiDung?taiKhoan=\".concat(user),method:'POST',headers:{Authorization:'Bearer '+localStorage.getItem(\"ACCESSTOKEN\"),TokenCybersoft:token}}).then(function(result){dispatch({type:USER_UPDATE,userUpdate:result.data});});case 3:_context6.next=8;break;case 5:_context6.prev=5;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);case 8:case\"end\":return _context6.stop();}}},_callee6,null,[[0,5]]);}));return function(_x5){return _ref6.apply(this,arguments);};}();};export var updateUser=function updateUser(formUser){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung',method:'POST',data:formUser,headers:{Authorization:'Bearer '+localStorage.getItem(\"ACCESSTOKEN\"),TokenCybersoft:token}});case 3:dispatch(getUserList());Swal.fire('Thông báo','Cập nhật thành công','success');_context7.next=11;break;case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](0);Swal.fire('Thông báo','Cập nhật thất bại','error');console.log(_context7.t0);case 11:case\"end\":return _context7.stop();}}},_callee7,null,[[0,7]]);}));return function(_x6){return _ref7.apply(this,arguments);};}();};export var getPersonalInfo=function getPersonalInfo(){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var result;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/ThongTinTaiKhoan',method:'POST',headers:{Authorization:'Bearer '+localStorage.getItem(\"ACCESSTOKEN\"),TokenCybersoft:token}});case 3:result=_context8.sent;dispatch({type:PERSONAL_INFO,personalInfo:result.data});_context8.next=10;break;case 7:_context8.prev=7;_context8.t0=_context8[\"catch\"](0);console.log(_context8.t0);case 10:case\"end\":return _context8.stop();}}},_callee8,null,[[0,7]]);}));return function(_x7){return _ref8.apply(this,arguments);};}();};export var updateInfo=function updateInfo(formUser){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung',method:'PUT',data:formUser,headers:{Authorization:'Bearer '+localStorage.getItem(\"ACCESSTOKEN\"),TokenCybersoft:token}});case 3:dispatch(getPersonalInfo());Swal.fire('Thông báo','Cập nhật thành công','success');_context9.next=11;break;case 7:_context9.prev=7;_context9.t0=_context9[\"catch\"](0);Swal.fire('Thông báo','Cập nhật thất bại','error');console.log(_context9.t0);case 11:case\"end\":return _context9.stop();}}},_callee9,null,[[0,7]]);}));return function(_x8){return _ref9.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/FrontEnd/Project/newMovie/src/Redux/Actions/UserManagerActions.js"],"names":["Axios","Swal","history","PERSONAL_INFO","SIGN_IN","USER_LIST","USER_UPDATE","token","signInAction","accounts","dispatch","url","method","data","result","console","log","localStorage","setItem","JSON","stringify","accessToken","fire","type","userSignIn","push","signUpAction","then","getUserList","headers","TokenCybersoft","userList","deleteUser","account","Authorization","getItem","addUser","formUser","getUserUpdate","user","userUpdate","updateUser","getPersonalInfo","personalInfo","updateInfo"],"mappings":"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","sourcesContent":["import Axios from \"axios\"\r\nimport Swal from \"sweetalert2\"\r\nimport { history } from '../../Util/history'\r\nimport { PERSONAL_INFO, SIGN_IN, USER_LIST, USER_UPDATE } from \"../Const/MovieManagerConst\"\r\n\r\nconst token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5Mb3AiOiJCb290Y2FtcCAxNSIsIkhldEhhblN0cmluZyI6IjIwLzA2LzIwMjIiLCJIZXRIYW5UaW1lIjoiMTY1NTY4MzIwMDAwMCIsIm5iZiI6MTYyNjI4MjAwMCwiZXhwIjoxNjU1ODMwODAwfQ.p47FFJpArherjwlM71xTzdulAQIW37pR6fRGD3t3Ji0'\r\nexport const signInAction = (accounts) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let result = await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/quanlynguoidung/dangnhap',\r\n                method: 'POST',\r\n                data: accounts,\r\n                // headers: {\r\n                //     TokenCybersoft: token\r\n                // }\r\n            })\r\n            console.log(result.data);\r\n            localStorage.setItem(\"USER_SIGNIN\", JSON.stringify(result.data));\r\n            localStorage.setItem(\"ACCESSTOKEN\", result.data.accessToken);\r\n            Swal.fire('Thông báo', 'Đăng nhập thành công', 'success')\r\n            dispatch({\r\n                type: SIGN_IN,\r\n                userSignIn: result.data,\r\n            })\r\n            if (result.data === 'QuanTri') {\r\n                history.push('/admin')\r\n            } else {\r\n                history.push('/')\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n            Swal.fire('Thông báo', 'Tài khoản hoặc mật khẩu không đúng', 'error')\r\n        }\r\n    }\r\n}\r\nexport const signUpAction = (accounts) => {\r\n    return async () => {\r\n        try {\r\n            await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/DangKy',\r\n                method: 'POST',\r\n                data: accounts,\r\n                // headers: {\r\n                //     TokenCybersoft: token\r\n                // }\r\n            }).then((result) => {\r\n                Swal.fire('Thông báo', 'Đăng ký thành công', 'success')\r\n                history.push('/dangnhap')\r\n            })\r\n        } catch (error) {\r\n            Swal.fire('Thông báo', 'Đăng ký thất bại', 'error')\r\n        }\r\n    }\r\n}\r\nexport const getUserList = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let result = await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/LayDanhSachNguoiDung?MaNhom=GP01',\r\n                method: 'GET',\r\n                headers: {\r\n                    TokenCybersoft: token\r\n                }\r\n            })\r\n            dispatch({\r\n                type: USER_LIST,\r\n                userList: result.data,\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\nexport const deleteUser = (account) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await Axios({\r\n                url: `https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/XoaNguoiDung?TaiKhoan=${account}`,\r\n                method: 'DELETE',\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem(\"ACCESSTOKEN\"),\r\n                    TokenCybersoft: token\r\n                }\r\n            })\r\n            dispatch(getUserList())\r\n            Swal.fire('Thông báo', 'Xóa thành công', 'success')\r\n        } catch (error) {\r\n            Swal.fire('Thông báo', 'Xóa thất bại', 'error')\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\nexport const addUser = (formUser) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/ThemNguoiDung',\r\n                method: 'POST',\r\n                data: formUser,\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem(\"ACCESSTOKEN\"),\r\n                    TokenCybersoft: token\r\n                }\r\n            })\r\n            dispatch(getUserList())\r\n            Swal.fire('Thông báo', 'Thêm thành công', 'success')\r\n        } catch (error) {\r\n            Swal.fire('Thông báo', 'Thêm thất bại', 'error')\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\nexport const getUserUpdate = (user) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await Axios({\r\n                url: `https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/LayThongTinNguoiDung?taiKhoan=${user}`,\r\n                method: 'POST',\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem(\"ACCESSTOKEN\"),\r\n                    TokenCybersoft: token\r\n                }\r\n            }).then((result) => {\r\n                dispatch({\r\n                    type: USER_UPDATE,\r\n                    userUpdate: result.data,\r\n                })\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\nexport const updateUser = (formUser) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung',\r\n                method: 'POST',\r\n                data: formUser,\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem(\"ACCESSTOKEN\"),\r\n                    TokenCybersoft: token\r\n                }\r\n            })\r\n            dispatch(getUserList())\r\n            Swal.fire('Thông báo', 'Cập nhật thành công', 'success')\r\n        } catch (error) {\r\n            Swal.fire('Thông báo', 'Cập nhật thất bại', 'error')\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\nexport const getPersonalInfo = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let result = await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/ThongTinTaiKhoan',\r\n                method: 'POST',\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem(\"ACCESSTOKEN\"),\r\n                    TokenCybersoft: token\r\n                }\r\n            })\r\n            dispatch({\r\n                type: PERSONAL_INFO,\r\n                personalInfo: result.data\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n}\r\nexport const updateInfo = (formUser) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyNguoiDung/CapNhatThongTinNguoiDung',\r\n                method: 'PUT',\r\n                data: formUser,\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem(\"ACCESSTOKEN\"),\r\n                    TokenCybersoft: token\r\n                }\r\n            })\r\n            dispatch(getPersonalInfo())\r\n            Swal.fire('Thông báo', 'Cập nhật thành công', 'success')\r\n        } catch (error) {\r\n            Swal.fire('Thông báo', 'Cập nhật thất bại', 'error')\r\n            console.log(error);\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}