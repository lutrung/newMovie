{"ast":null,"code":"var _jsxFileName = \"E:\\\\FrontEnd\\\\Project\\\\newMovie\\\\src\\\\Pages\\\\Admin\\\\Movie\\\\Create-Showtime.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/rules-of-hooks */\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport DateTimePicker from '@mui/lab/DateTimePicker';\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport MenuItem from '@mui/material/MenuItem';\nimport TextField from '@mui/material/TextField';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createShowTime, getCinemaSystem } from '../../../Redux/Actions/MovieManagerActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theaterCluster = [{\n  value: 'BHDStar',\n  label: 'BHDStar'\n}, {\n  value: 'CGV',\n  label: 'CGV'\n}, {\n  value: 'CineStar',\n  label: 'CineStar'\n}, {\n  value: 'Galaxy',\n  label: 'Galaxy'\n}, {\n  value: 'LotteCinima',\n  label: 'LotteCinima'\n}, {\n  value: 'MegaGS',\n  label: 'MegaGS'\n}];\n\nfunction CreateShowTime(_ref) {\n  _s();\n\n  let {\n    open,\n    handleClose,\n    movieCode\n  } = _ref;\n  const dispatch = useDispatch();\n  const [date, setDate] = React.useState(null);\n  const [clusterByCode, setClusterByCode] = useState('');\n  const cinemaSystem = useSelector(state => state.MovieManagerReducer.cinemaSystem);\n  const [formCreate, setFormCreate] = useState({\n    maPhim: null,\n    ngayChieuGioChieu: '',\n    maRap: '',\n    giaVe: '',\n    maHeThongRap: ''\n  });\n\n  const onSelectDate = newDate => {\n    let newDataMovie = { ...formCreate,\n      ngayChieuGioChieu: moment(newDate).format('DD/MM/YYYY hh:mm:ss')\n    };\n    setDate(newDate);\n    setFormCreate(newDataMovie);\n  };\n\n  const onChangeInput = event => {\n    let {\n      name,\n      value\n    } = event.target;\n\n    if (name === 'maHeThongRap') {\n      setClusterByCode(value);\n    }\n\n    let newFormCrate = { ...formCreate,\n      [name]: value\n    };\n    setFormCreate(newFormCrate);\n  };\n\n  const onSubmit = () => {\n    delete formCreate.maHeThongRap;\n    dispatch(createShowTime(formCreate));\n    handleClose();\n  };\n\n  useEffect(() => {\n    if (movieCode) {\n      let newFormCrate = {\n        maPhim: movieCode,\n        ngayChieuGioChieu: '',\n        maRap: '',\n        giaVe: '',\n        maHeThongRap: ''\n      };\n      setDate(null);\n      setFormCreate(newFormCrate);\n    }\n\n    async function fetchData() {\n      dispatch(await getCinemaSystem());\n    }\n\n    fetchData();\n  }, [movieCode]);\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    fullWidth: true,\n    maxWidth: \"sm\",\n    open: open,\n    keepMounted: true,\n    onClose: handleClose,\n    \"aria-describedby\": \"alert-dialog-slide-description\",\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      sx: {\n        fontSize: '30px'\n      },\n      children: \"Tạo lịch chiếu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      dividers: true,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          '& .MuiTextField-root': {\n            mb: 2,\n            width: '100%'\n          },\n          '& .MuiOutlinedInput-root, .MuiInputLabel-root': {\n            fontSize: '15px'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          name: \"maPhim\",\n          label: \"M\\xE3 Phim\",\n          disabled: true,\n          variant: \"outlined\",\n          value: movieCode,\n          defaultValue: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-select-currency\",\n          select: true,\n          name: \"maHeThongRap\",\n          label: \"C\\u1EE5m r\\u1EA1p\",\n          value: formCreate.maHeThongRap,\n          onChange: onChangeInput,\n          children: theaterCluster.map(option => /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: option.value,\n            children: option.label\n          }, option.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          select: true,\n          name: \"maRap\",\n          label: \"M\\xE3 r\\u1EA1p\",\n          value: formCreate.maRap,\n          onChange: onChangeInput,\n          children: cinemaSystem === null || cinemaSystem === void 0 ? void 0 : cinemaSystem.map(item => {\n            if ((item === null || item === void 0 ? void 0 : item.maHeThongRap) == clusterByCode) {\n              var _item$lstCumRap;\n\n              return (_item$lstCumRap = item.lstCumRap) === null || _item$lstCumRap === void 0 ? void 0 : _item$lstCumRap.map((option, index) => {\n                return /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: option.maCumRap,\n                  children: option.tenCumRap\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 44\n                }, this);\n              });\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"giaVe\",\n          type: \"number\",\n          label: \"Gi\\xE1 v\\xE9\",\n          variant: \"outlined\",\n          value: formCreate.giaVe,\n          onChange: onChangeInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(LocalizationProvider, {\n          dateAdapter: AdapterDateFns,\n          children: /*#__PURE__*/_jsxDEV(DateTimePicker, {\n            label: \"Ng\\xE0y gi\\u1EDD chi\\u1EBFu\",\n            value: date,\n            disablePast: true,\n            name: \"ngayChieuGioChieu\",\n            onChange: newDate => onSelectDate(newDate),\n            renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"error\",\n        onClick: handleClose,\n        children: \"H\\u1EE7y\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: onSubmit,\n        type: \"submit\",\n        children: \"T\\u1EA1o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateShowTime, \"tLxbTLlvT8iOfb/REbtHAYRueFk=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CreateShowTime;\n;\nexport default _c2 = /*#__PURE__*/React.memo(CreateShowTime);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CreateShowTime\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["E:/FrontEnd/Project/newMovie/src/Pages/Admin/Movie/Create-Showtime.js"],"names":["AdapterDateFns","DateTimePicker","LocalizationProvider","Box","Button","Dialog","DialogActions","DialogContent","DialogTitle","MenuItem","TextField","moment","React","useEffect","useState","useDispatch","useSelector","createShowTime","getCinemaSystem","theaterCluster","value","label","CreateShowTime","open","handleClose","movieCode","dispatch","date","setDate","clusterByCode","setClusterByCode","cinemaSystem","state","MovieManagerReducer","formCreate","setFormCreate","maPhim","ngayChieuGioChieu","maRap","giaVe","maHeThongRap","onSelectDate","newDate","newDataMovie","format","onChangeInput","event","name","target","newFormCrate","onSubmit","fetchData","fontSize","mb","width","map","option","item","lstCumRap","index","maCumRap","tenCumRap","params","memo"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport DateTimePicker from '@mui/lab/DateTimePicker';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport TextField from '@mui/material/TextField';\r\nimport moment from 'moment';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createShowTime, getCinemaSystem } from '../../../Redux/Actions/MovieManagerActions';\r\nconst theaterCluster = [\r\n    {\r\n        value: 'BHDStar',\r\n        label: 'BHDStar',\r\n    },\r\n    {\r\n        value: 'CGV',\r\n        label: 'CGV',\r\n    },\r\n    {\r\n        value: 'CineStar',\r\n        label: 'CineStar',\r\n    },\r\n    {\r\n        value: 'Galaxy',\r\n        label: 'Galaxy',\r\n    },\r\n    {\r\n        value: 'LotteCinima',\r\n        label: 'LotteCinima',\r\n    },\r\n    {\r\n        value: 'MegaGS',\r\n        label: 'MegaGS',\r\n    },\r\n];\r\nfunction CreateShowTime({ open, handleClose, movieCode }) {\r\n    const dispatch = useDispatch()\r\n    const [date, setDate] = React.useState(null);\r\n    const [clusterByCode, setClusterByCode] = useState('')\r\n    const cinemaSystem = useSelector(state => state.MovieManagerReducer.cinemaSystem)\r\n    const [formCreate, setFormCreate] = useState({\r\n        maPhim: null,\r\n        ngayChieuGioChieu: '',\r\n        maRap: '',\r\n        giaVe: '',\r\n        maHeThongRap: ''\r\n    });\r\n    const onSelectDate = (newDate) => {\r\n        let newDataMovie = { ...formCreate, ngayChieuGioChieu: moment(newDate).format('DD/MM/YYYY hh:mm:ss') }\r\n        setDate(newDate)\r\n        setFormCreate(newDataMovie)\r\n    }\r\n    const onChangeInput = (event) => {\r\n        let { name, value } = event.target\r\n        if (name === 'maHeThongRap') {\r\n            setClusterByCode(value)\r\n        }\r\n        let newFormCrate = { ...formCreate, [name]: value }\r\n        setFormCreate(newFormCrate)\r\n    }\r\n    const onSubmit = () => {\r\n        delete formCreate.maHeThongRap\r\n        dispatch(createShowTime(formCreate))\r\n        handleClose()\r\n    }\r\n    useEffect(() => {\r\n        if (movieCode) {\r\n            let newFormCrate = {\r\n                maPhim: movieCode,\r\n                ngayChieuGioChieu: '',\r\n                maRap: '',\r\n                giaVe: '',\r\n                maHeThongRap: ''\r\n            }\r\n            setDate(null)\r\n            setFormCreate(newFormCrate)\r\n        }\r\n        async function fetchData() {\r\n            dispatch(await getCinemaSystem())\r\n        }\r\n        fetchData()\r\n    }, [movieCode])\r\n\r\n    return (\r\n        <Dialog\r\n            fullWidth\r\n            maxWidth='sm'\r\n            open={open}\r\n            keepMounted\r\n            onClose={handleClose}\r\n            aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n            <DialogTitle sx={{ fontSize: '30px' }}>{\"Tạo lịch chiếu\"}</DialogTitle>\r\n            <DialogContent dividers>\r\n                <Box sx={{\r\n                    '& .MuiTextField-root': { mb: 2, width: '100%' },\r\n                    '& .MuiOutlinedInput-root, .MuiInputLabel-root': { fontSize: '15px' },\r\n                }}>\r\n                    <TextField name='maPhim' label=\"Mã Phim\" disabled variant=\"outlined\" value={movieCode} defaultValue='0' />\r\n                    <TextField\r\n                        id=\"outlined-select-currency\"\r\n                        select\r\n                        name='maHeThongRap'\r\n                        label=\"Cụm rạp\"\r\n                        value={formCreate.maHeThongRap}\r\n                        onChange={onChangeInput}\r\n                    >\r\n                        {theaterCluster.map((option) => (\r\n                            <MenuItem key={option.value} value={option.value}>\r\n                                {option.label}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                    <TextField\r\n                        select\r\n                        name='maRap'\r\n                        label=\"Mã rạp\"\r\n                        value={formCreate.maRap}\r\n                        onChange={onChangeInput}\r\n                    >\r\n\r\n                        {cinemaSystem?.map((item) => {\r\n                            if (item?.maHeThongRap == clusterByCode) {\r\n                                return item.lstCumRap?.map((option, index) => {\r\n                                    return <MenuItem key={index} value={option.maCumRap}>\r\n                                        {option.tenCumRap}\r\n                                    </MenuItem>\r\n\r\n                                })\r\n\r\n                            }\r\n                        })}\r\n                    </TextField>\r\n                    <TextField name='giaVe' type='number' label=\"Giá vé\" variant=\"outlined\" value={formCreate.giaVe} onChange={onChangeInput} />\r\n                    <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                        <DateTimePicker\r\n                            label=\"Ngày giờ chiếu\"\r\n                            value={date}\r\n                            disablePast\r\n                            name='ngayChieuGioChieu'\r\n                            onChange={(newDate) => onSelectDate(newDate)}\r\n                            renderInput={(params) => <TextField {...params} />}\r\n                        />\r\n                    </LocalizationProvider>\r\n                </Box>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant='contained' color='error' onClick={handleClose}>Hủy</Button>\r\n                <Button variant='contained' color='primary' onClick={onSubmit} type='submit'>Tạo</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n\r\n    );\r\n};\r\nexport default React.memo(CreateShowTime)"]},"metadata":{},"sourceType":"module"}