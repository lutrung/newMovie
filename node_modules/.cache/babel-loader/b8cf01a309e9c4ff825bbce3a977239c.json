{"ast":null,"code":"import _defineProperty from\"D:/FrontEnd/Project/newMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/FrontEnd/Project/newMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/FrontEnd/Project/newMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable react-hooks/rules-of-hooks */import AdapterDateFns from'@mui/lab/AdapterDateFns';import DateTimePicker from'@mui/lab/DateTimePicker';import LocalizationProvider from'@mui/lab/LocalizationProvider';import Box from'@mui/material/Box';import Button from'@mui/material/Button';import Dialog from'@mui/material/Dialog';import DialogActions from'@mui/material/DialogActions';import DialogContent from'@mui/material/DialogContent';import DialogTitle from'@mui/material/DialogTitle';import MenuItem from'@mui/material/MenuItem';import TextField from'@mui/material/TextField';import moment from'moment';import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{createShowTime,getTheTheaterClusterByCode}from'../../../Redux/Actions/MovieManagerActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var theaterCluster=[{value:'BHDStar',label:'BHDStar'},{value:'CGV',label:'CGV'},{value:'CineStar',label:'CineStar'},{value:'Galaxy',label:'Galaxy'},{value:'LotteCinima',label:'LotteCinima'},{value:'MegaGS',label:'MegaGS'}];function CreateShowTime(_ref){var open=_ref.open,handleClose=_ref.handleClose,movieCode=_ref.movieCode;var dispatch=useDispatch();var cinemaByCode=useSelector(function(state){return state.MovieManagerReducer.cinemaByCode;});var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),date=_React$useState2[0],setDate=_React$useState2[1];var _useState=useState({maPhim:null,ngayChieuGioChieu:'',maRap:'',giaVe:'',maHeThongRap:''}),_useState2=_slicedToArray(_useState,2),formCreate=_useState2[0],setFormCreate=_useState2[1];var onSelectDate=function onSelectDate(newDate){var newDataMovie=_objectSpread(_objectSpread({},formCreate),{},{ngayChieuGioChieu:moment(newDate).format('DD/MM/YYYY hh:mm:ss')});setDate(newDate);setFormCreate(newDataMovie);};var onChangeInput=function onChangeInput(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;if(name==='maHeThongRap'){dispatch(getTheTheaterClusterByCode(value));}var newFormCrate=_objectSpread(_objectSpread({},formCreate),{},_defineProperty({},name,value));setFormCreate(newFormCrate);};var onSubmit=function onSubmit(){delete formCreate.maHeThongRap;dispatch(createShowTime(formCreate));handleClose();};useEffect(function(){if(movieCode){var newFormCrate={maPhim:movieCode,ngayChieuGioChieu:'',maRap:'',giaVe:'',maHeThongRap:''};setDate(null);setFormCreate(newFormCrate);}},[movieCode]);return/*#__PURE__*/_jsxs(Dialog,{fullWidth:true,maxWidth:\"sm\",open:open,keepMounted:true,onClose:handleClose,\"aria-describedby\":\"alert-dialog-slide-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{fontSize:'30px'},children:\"Tạo lịch chiếu\"}),/*#__PURE__*/_jsx(DialogContent,{dividers:true,children:/*#__PURE__*/_jsxs(Box,{sx:{'& .MuiTextField-root':{mb:2,width:'100%'},'& .MuiOutlinedInput-root, .MuiInputLabel-root':{fontSize:'15px'}},children:[/*#__PURE__*/_jsx(TextField,{name:\"maPhim\",label:\"M\\xE3 Phim\",disabled:true,variant:\"outlined\",value:movieCode,defaultValue:\"0\"}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-select-currency\",select:true,name:\"maHeThongRap\",label:\"C\\u1EE5m r\\u1EA1p\",value:formCreate.maHeThongRap,onChange:onChangeInput,children:theaterCluster.map(function(option){return/*#__PURE__*/_jsx(MenuItem,{value:option.value,children:option.label},option.value);})}),/*#__PURE__*/_jsx(TextField,{select:true,name:\"maRap\",label:\"M\\xE3 r\\u1EA1p\",value:formCreate.maRap,onChange:onChangeInput,children:cinemaByCode.map(function(option,index){return/*#__PURE__*/_jsx(MenuItem,{value:option.maCumRap,children:option.maCumRap},index);})}),/*#__PURE__*/_jsx(TextField,{name:\"giaVe\",type:\"number\",label:\"Gi\\xE1 v\\xE9\",variant:\"outlined\",value:formCreate.giaVe,onChange:onChangeInput}),/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDateFns,children:/*#__PURE__*/_jsx(DateTimePicker,{label:\"Ng\\xE0y gi\\u1EDD chi\\u1EBFu\",value:date,disablePast:true,name:\"ngayChieuGioChieu\",onChange:function onChange(newDate){return onSelectDate(newDate);},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread({},params));}})})]})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"error\",onClick:handleClose,children:\"H\\u1EE7y\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:onSubmit,type:\"submit\",children:\"T\\u1EA1o\"})]})]});};export default/*#__PURE__*/React.memo(CreateShowTime);","map":{"version":3,"sources":["D:/FrontEnd/Project/newMovie/src/Pages/Admin/Movie/Create-Showtime.js"],"names":["AdapterDateFns","DateTimePicker","LocalizationProvider","Box","Button","Dialog","DialogActions","DialogContent","DialogTitle","MenuItem","TextField","moment","React","useEffect","useState","useDispatch","useSelector","createShowTime","getTheTheaterClusterByCode","theaterCluster","value","label","CreateShowTime","open","handleClose","movieCode","dispatch","cinemaByCode","state","MovieManagerReducer","date","setDate","maPhim","ngayChieuGioChieu","maRap","giaVe","maHeThongRap","formCreate","setFormCreate","onSelectDate","newDate","newDataMovie","format","onChangeInput","event","target","name","newFormCrate","onSubmit","fontSize","mb","width","map","option","index","maCumRap","params","memo"],"mappings":"0bAAA,+CACA,MAAOA,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,oBAAP,KAAiC,+BAAjC,CACA,MAAOC,CAAAA,GAAP,KAAgB,mBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,cAAT,CAAyBC,0BAAzB,KAA2D,4CAA3D,C,wFACA,GAAMC,CAAAA,cAAc,CAAG,CACnB,CACIC,KAAK,CAAE,SADX,CAEIC,KAAK,CAAE,SAFX,CADmB,CAKnB,CACID,KAAK,CAAE,KADX,CAEIC,KAAK,CAAE,KAFX,CALmB,CASnB,CACID,KAAK,CAAE,UADX,CAEIC,KAAK,CAAE,UAFX,CATmB,CAanB,CACID,KAAK,CAAE,QADX,CAEIC,KAAK,CAAE,QAFX,CAbmB,CAiBnB,CACID,KAAK,CAAE,aADX,CAEIC,KAAK,CAAE,aAFX,CAjBmB,CAqBnB,CACID,KAAK,CAAE,QADX,CAEIC,KAAK,CAAE,QAFX,CArBmB,CAAvB,CA0BA,QAASC,CAAAA,cAAT,MAA0D,IAAhCC,CAAAA,IAAgC,MAAhCA,IAAgC,CAA1BC,WAA0B,MAA1BA,WAA0B,CAAbC,SAAa,MAAbA,SAAa,CACtD,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CACA,GAAMY,CAAAA,YAAY,CAAGX,WAAW,CAAC,SAAAY,KAAK,QAAIA,CAAAA,KAAK,CAACC,mBAAN,CAA0BF,YAA9B,EAAN,CAAhC,CACA,oBAAwBf,KAAK,CAACE,QAAN,CAAe,IAAf,CAAxB,oDAAOgB,IAAP,qBAAaC,OAAb,qBACA,cAAoCjB,QAAQ,CAAC,CACzCkB,MAAM,CAAE,IADiC,CAEzCC,iBAAiB,CAAE,EAFsB,CAGzCC,KAAK,CAAE,EAHkC,CAIzCC,KAAK,CAAE,EAJkC,CAKzCC,YAAY,CAAE,EAL2B,CAAD,CAA5C,wCAAOC,UAAP,eAAmBC,aAAnB,eAOA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,OAAD,CAAa,CAC9B,GAAIC,CAAAA,YAAY,gCAAQJ,UAAR,MAAoBJ,iBAAiB,CAAEtB,MAAM,CAAC6B,OAAD,CAAN,CAAgBE,MAAhB,CAAuB,qBAAvB,CAAvC,EAAhB,CACAX,OAAO,CAACS,OAAD,CAAP,CACAF,aAAa,CAACG,YAAD,CAAb,CACH,CAJD,CAKA,GAAME,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC7B,kBAAsBA,KAAK,CAACC,MAA5B,CAAMC,IAAN,eAAMA,IAAN,CAAY1B,KAAZ,eAAYA,KAAZ,CACA,GAAI0B,IAAI,GAAK,cAAb,CAA6B,CACzBpB,QAAQ,CAACR,0BAA0B,CAACE,KAAD,CAA3B,CAAR,CACH,CACD,GAAI2B,CAAAA,YAAY,gCAAQV,UAAR,wBAAqBS,IAArB,CAA4B1B,KAA5B,EAAhB,CACAkB,aAAa,CAACS,YAAD,CAAb,CACH,CAPD,CAQA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,MAAOX,CAAAA,UAAU,CAACD,YAAlB,CACAV,QAAQ,CAACT,cAAc,CAACoB,UAAD,CAAf,CAAR,CACAb,WAAW,GACd,CAJD,CAKAX,SAAS,CAAC,UAAM,CACZ,GAAIY,SAAJ,CAAe,CACX,GAAIsB,CAAAA,YAAY,CAAG,CACff,MAAM,CAAEP,SADO,CAEfQ,iBAAiB,CAAE,EAFJ,CAGfC,KAAK,CAAE,EAHQ,CAIfC,KAAK,CAAE,EAJQ,CAKfC,YAAY,CAAE,EALC,CAAnB,CAOAL,OAAO,CAAC,IAAD,CAAP,CACAO,aAAa,CAACS,YAAD,CAAb,CACH,CACJ,CAZQ,CAYN,CAACtB,SAAD,CAZM,CAAT,CAaA,mBACI,MAAC,MAAD,EACI,SAAS,KADb,CAEI,QAAQ,CAAC,IAFb,CAGI,IAAI,CAAEF,IAHV,CAII,WAAW,KAJf,CAKI,OAAO,CAAEC,WALb,CAMI,mBAAiB,gCANrB,wBAQI,KAAC,WAAD,EAAa,EAAE,CAAE,CAAEyB,QAAQ,CAAE,MAAZ,CAAjB,UAAwC,gBAAxC,EARJ,cASI,KAAC,aAAD,EAAe,QAAQ,KAAvB,uBACI,MAAC,GAAD,EAAK,EAAE,CAAE,CACL,uBAAwB,CAAEC,EAAE,CAAE,CAAN,CAASC,KAAK,CAAE,MAAhB,CADnB,CAEL,gDAAiD,CAAEF,QAAQ,CAAE,MAAZ,CAF5C,CAAT,wBAII,KAAC,SAAD,EAAW,IAAI,CAAC,QAAhB,CAAyB,KAAK,CAAC,YAA/B,CAAyC,QAAQ,KAAjD,CAAkD,OAAO,CAAC,UAA1D,CAAqE,KAAK,CAAExB,SAA5E,CAAuF,YAAY,CAAC,GAApG,EAJJ,cAKI,KAAC,SAAD,EACI,EAAE,CAAC,0BADP,CAEI,MAAM,KAFV,CAGI,IAAI,CAAC,cAHT,CAII,KAAK,CAAC,mBAJV,CAKI,KAAK,CAAEY,UAAU,CAACD,YALtB,CAMI,QAAQ,CAAEO,aANd,UAQKxB,cAAc,CAACiC,GAAf,CAAmB,SAACC,MAAD,qBAChB,KAAC,QAAD,EAA6B,KAAK,CAAEA,MAAM,CAACjC,KAA3C,UACKiC,MAAM,CAAChC,KADZ,EAAegC,MAAM,CAACjC,KAAtB,CADgB,EAAnB,CARL,EALJ,cAmBI,KAAC,SAAD,EACI,MAAM,KADV,CAEI,IAAI,CAAC,OAFT,CAGI,KAAK,CAAC,gBAHV,CAII,KAAK,CAAEiB,UAAU,CAACH,KAJtB,CAKI,QAAQ,CAAES,aALd,UAOKhB,YAAY,CAACyB,GAAb,CAAiB,SAACC,MAAD,CAASC,KAAT,qBACd,KAAC,QAAD,EAAsB,KAAK,CAAED,MAAM,CAACE,QAApC,UACKF,MAAM,CAACE,QADZ,EAAeD,KAAf,CADc,EAAjB,CAPL,EAnBJ,cAgCI,KAAC,SAAD,EAAW,IAAI,CAAC,OAAhB,CAAwB,IAAI,CAAC,QAA7B,CAAsC,KAAK,CAAC,cAA5C,CAAqD,OAAO,CAAC,UAA7D,CAAwE,KAAK,CAAEjB,UAAU,CAACF,KAA1F,CAAiG,QAAQ,CAAEQ,aAA3G,EAhCJ,cAiCI,KAAC,oBAAD,EAAsB,WAAW,CAAE3C,cAAnC,uBACI,KAAC,cAAD,EACI,KAAK,CAAC,6BADV,CAEI,KAAK,CAAE8B,IAFX,CAGI,WAAW,KAHf,CAII,IAAI,CAAC,mBAJT,CAKI,QAAQ,CAAE,kBAACU,OAAD,QAAaD,CAAAA,YAAY,CAACC,OAAD,CAAzB,EALd,CAMI,WAAW,CAAE,qBAACgB,MAAD,qBAAY,KAAC,SAAD,kBAAeA,MAAf,EAAZ,EANjB,EADJ,EAjCJ,GADJ,EATJ,cAuDI,MAAC,aAAD,yBACI,KAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,OAAlC,CAA0C,OAAO,CAAEhC,WAAnD,sBADJ,cAEI,KAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,OAAO,CAAEwB,QAArD,CAA+D,IAAI,CAAC,QAApE,sBAFJ,GAvDJ,GADJ,CA+DH,EACD,2BAAepC,KAAK,CAAC6C,IAAN,CAAWnC,cAAX,CAAf","sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport DateTimePicker from '@mui/lab/DateTimePicker';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\nimport Box from '@mui/material/Box';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport TextField from '@mui/material/TextField';\r\nimport moment from 'moment';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createShowTime, getTheTheaterClusterByCode } from '../../../Redux/Actions/MovieManagerActions';\r\nconst theaterCluster = [\r\n    {\r\n        value: 'BHDStar',\r\n        label: 'BHDStar',\r\n    },\r\n    {\r\n        value: 'CGV',\r\n        label: 'CGV',\r\n    },\r\n    {\r\n        value: 'CineStar',\r\n        label: 'CineStar',\r\n    },\r\n    {\r\n        value: 'Galaxy',\r\n        label: 'Galaxy',\r\n    },\r\n    {\r\n        value: 'LotteCinima',\r\n        label: 'LotteCinima',\r\n    },\r\n    {\r\n        value: 'MegaGS',\r\n        label: 'MegaGS',\r\n    },\r\n];\r\nfunction CreateShowTime({ open, handleClose, movieCode }) {\r\n    const dispatch = useDispatch()\r\n    const cinemaByCode = useSelector(state => state.MovieManagerReducer.cinemaByCode)\r\n    const [date, setDate] = React.useState(null);\r\n    const [formCreate, setFormCreate] = useState({\r\n        maPhim: null,\r\n        ngayChieuGioChieu: '',\r\n        maRap: '',\r\n        giaVe: '',\r\n        maHeThongRap: ''\r\n    });\r\n    const onSelectDate = (newDate) => {\r\n        let newDataMovie = { ...formCreate, ngayChieuGioChieu: moment(newDate).format('DD/MM/YYYY hh:mm:ss') }\r\n        setDate(newDate)\r\n        setFormCreate(newDataMovie)\r\n    }\r\n    const onChangeInput = (event) => {\r\n        let { name, value } = event.target\r\n        if (name === 'maHeThongRap') {\r\n            dispatch(getTheTheaterClusterByCode(value))\r\n        }\r\n        let newFormCrate = { ...formCreate, [name]: value }\r\n        setFormCreate(newFormCrate)\r\n    }\r\n    const onSubmit = () => {\r\n        delete formCreate.maHeThongRap\r\n        dispatch(createShowTime(formCreate))\r\n        handleClose()\r\n    }\r\n    useEffect(() => {\r\n        if (movieCode) {\r\n            let newFormCrate = {\r\n                maPhim: movieCode,\r\n                ngayChieuGioChieu: '',\r\n                maRap: '',\r\n                giaVe: '',\r\n                maHeThongRap: ''\r\n            }\r\n            setDate(null)\r\n            setFormCreate(newFormCrate)\r\n        }\r\n    }, [movieCode])\r\n    return (\r\n        <Dialog\r\n            fullWidth\r\n            maxWidth='sm'\r\n            open={open}\r\n            keepMounted\r\n            onClose={handleClose}\r\n            aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n            <DialogTitle sx={{ fontSize: '30px' }}>{\"Tạo lịch chiếu\"}</DialogTitle>\r\n            <DialogContent dividers>\r\n                <Box sx={{\r\n                    '& .MuiTextField-root': { mb: 2, width: '100%' },\r\n                    '& .MuiOutlinedInput-root, .MuiInputLabel-root': { fontSize: '15px' },\r\n                }}>\r\n                    <TextField name='maPhim' label=\"Mã Phim\" disabled variant=\"outlined\" value={movieCode} defaultValue='0' />\r\n                    <TextField\r\n                        id=\"outlined-select-currency\"\r\n                        select\r\n                        name='maHeThongRap'\r\n                        label=\"Cụm rạp\"\r\n                        value={formCreate.maHeThongRap}\r\n                        onChange={onChangeInput}\r\n                    >\r\n                        {theaterCluster.map((option) => (\r\n                            <MenuItem key={option.value} value={option.value}>\r\n                                {option.label}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                    <TextField\r\n                        select\r\n                        name='maRap'\r\n                        label=\"Mã rạp\"\r\n                        value={formCreate.maRap}\r\n                        onChange={onChangeInput}\r\n                    >\r\n                        {cinemaByCode.map((option, index) => (\r\n                            <MenuItem key={index} value={option.maCumRap}>\r\n                                {option.maCumRap}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                    <TextField name='giaVe' type='number' label=\"Giá vé\" variant=\"outlined\" value={formCreate.giaVe} onChange={onChangeInput} />\r\n                    <LocalizationProvider dateAdapter={AdapterDateFns}>\r\n                        <DateTimePicker\r\n                            label=\"Ngày giờ chiếu\"\r\n                            value={date}\r\n                            disablePast\r\n                            name='ngayChieuGioChieu'\r\n                            onChange={(newDate) => onSelectDate(newDate)}\r\n                            renderInput={(params) => <TextField {...params} />}\r\n                        />\r\n                    </LocalizationProvider>\r\n                </Box>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant='contained' color='error' onClick={handleClose}>Hủy</Button>\r\n                <Button variant='contained' color='primary' onClick={onSubmit} type='submit'>Tạo</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n\r\n    );\r\n};\r\nexport default React.memo(CreateShowTime)"]},"metadata":{},"sourceType":"module"}