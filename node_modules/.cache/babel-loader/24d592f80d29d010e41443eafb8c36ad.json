{"ast":null,"code":"import _regeneratorRuntime from\"D:/FrontEnd/Project/newMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/FrontEnd/Project/newMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import Axios from'axios';import Swal from'sweetalert2';import{BOOKING_SUCCESS,CHANGE_CODE_CINEMA,GET_BANNER_LIST,GET_CINEMA_BY_CODE,GET_CINEMA_SYSTEM,GET_INFO_MOVIE,GET_MOVIES_LIST,GET_MOVIE_DETAILS,GET_SHOW_SCHEDULE,GET_TICKET_ROOM}from'../Const/MovieManagerConst';var token='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5Mb3AiOiJCb290Y2FtcCAxNSIsIkhldEhhblN0cmluZyI6IjIwLzA2LzIwMjIiLCJIZXRIYW5UaW1lIjoiMTY1NTY4MzIwMDAwMCIsIm5iZiI6MTYyNjI4MjAwMCwiZXhwIjoxNjU1ODMwODAwfQ.p47FFJpArherjwlM71xTzdulAQIW37pR6fRGD3t3Ji0';export var getBannerList=function getBannerList(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayDanhSachBanner',method:'GET',headers:{TokenCybersoft:token}});case 3:result=_context.sent;dispatch({type:GET_BANNER_LIST,bannerList:result.data.content});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log('Thất bại',_context.t0.response);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getMovieList=function getMovieList(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayDanhSachPhim?maNhom=GP01',method:'GET',headers:{TokenCybersoft:token}});case 3:result=_context2.sent;dispatch({type:GET_MOVIES_LIST,moviesList:result.data});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log('Thất bại',_context2.t0.response);case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getCinemaSystem=function getCinemaSystem(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyRap/LayThongTinHeThongRap',method:'GET',headers:{TokenCybersoft:token}});case 3:result=_context3.sent;dispatch({type:GET_CINEMA_SYSTEM,cinemaSystem:result.data});_context3.next=10;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log('Thất bại',_context3.t0.response);case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var getTheTheaterClusterByCode=function getTheTheaterClusterByCode(code){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return Axios({url:\"https://movie0706.cybersoft.edu.vn/api/QuanLyRap/LayThongTinCumRapTheoHeThong?maHeThongRap=\".concat(code),method:'GET',headers:{TokenCybersoft:token}});case 3:result=_context4.sent;dispatch({type:GET_CINEMA_BY_CODE,cinemaByCode:result.data});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.log('Thất bại',_context4.t0.response);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var getShowSchedule=function getShowSchedule(code){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var result;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return Axios({url:\"https://movie0706.cybersoft.edu.vn/api/QuanLyRap/LayThongTinLichChieuHeThongRap?maHeThongRap=\".concat(code,\"&maNhom=GP01\"),method:'GET',headers:{TokenCybersoft:token}});case 3:result=_context5.sent;dispatch({type:GET_SHOW_SCHEDULE,showTimes:result.data});_context5.next=10;break;case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);console.log('Thất bại',_context5.t0.response);case 10:case\"end\":return _context5.stop();}}},_callee5,null,[[0,7]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var changeCodeCluster=function changeCodeCluster(newCode){return{type:CHANGE_CODE_CINEMA,newCode:newCode};};export var getMovieDetails=function getMovieDetails(movieCode){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return Axios({url:\"https://movie0706.cybersoft.edu.vn/api/QuanLyRap/LayThongTinLichChieuPhim?MaPhim=\".concat(movieCode),method:'GET',headers:{TokenCybersoft:token}}).then(function(result){dispatch({type:GET_MOVIE_DETAILS,movieDetails:result.data});});case 3:_context6.next=8;break;case 5:_context6.prev=5;_context6.t0=_context6[\"catch\"](0);console.log('Thất bại',_context6.t0.response);case 8:case\"end\":return _context6.stop();}}},_callee6,null,[[0,5]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var getTicketRoom=function getTicketRoom(showtimeCode){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return Axios({url:\"https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=\".concat(showtimeCode),method:'GET',headers:{TokenCybersoft:token}}).then(function(result){dispatch({type:GET_TICKET_ROOM,ticketRoom:result.data});});case 3:_context7.next=8;break;case 5:_context7.prev=5;_context7.t0=_context7[\"catch\"](0);console.log('Thất bại',_context7.t0.response);case 8:case\"end\":return _context7.stop();}}},_callee7,null,[[0,5]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};export var bookTicketsAction=function bookTicketsAction(tickets){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe',method:'POST',data:tickets,headers:{Authorization:'Bearer '+localStorage.getItem(\"ACCESSTOKEN\")// TokenCybersoft: token\n}}).then(function(result){dispatch(getTicketRoom(tickets.maLichChieu));Swal.fire('Thông báo','Đặt vé thành công','success');dispatch({type:BOOKING_SUCCESS});});case 3:_context8.next=8;break;case 5:_context8.prev=5;_context8.t0=_context8[\"catch\"](0);Swal.fire('Thông báo',\"Mua v\\xE9 th\\u1EA5t b\\u1EA1i \".concat(_context8.t0),'error');case 8:case\"end\":return _context8.stop();}}},_callee8,null,[[0,5]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};export var deleteMovie=function deleteMovie(movieCode){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return Axios({url:\"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/XoaPhim?MaPhim=\".concat(movieCode),method:'DELETE',headers:{Authorization:'Bearer '+localStorage.getItem(\"ACCESSTOKEN\"),TokenCybersoft:token}}).then(function(result){dispatch(getMovieList());Swal.fire('Thông báo','Xóa thành công','success');}).catch(function(error){Swal.fire('Thông báo',\"X\\xF3a th\\u1EA5t b\\u1EA1i \".concat(error),'error');});case 3:_context9.next=9;break;case 5:_context9.prev=5;_context9.t0=_context9[\"catch\"](0);console.log(_context9.t0);Swal.fire('Thông báo',\"X\\xF3a th\\u1EA5t b\\u1EA1i \".concat(_context9.t0),'error');case 9:case\"end\":return _context9.stop();}}},_callee9,null,[[0,5]]);}));return function(_x9){return _ref9.apply(this,arguments);};}();};export var addMovie=function addMovie(dataMovie){return/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(dispatch){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.prev=0;_context10.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/ThemPhimUploadHinh',method:'POST',data:dataMovie,headers:{TokenCybersoft:token}}).then(function(result){dispatch(getMovieList());Swal.fire('Thông báo','Thêm phim thành công','success');});case 3:_context10.next=9;break;case 5:_context10.prev=5;_context10.t0=_context10[\"catch\"](0);console.log(_context10.t0);Swal.fire('Thông báo','Thêm phim thất bại','error');case 9:case\"end\":return _context10.stop();}}},_callee10,null,[[0,5]]);}));return function(_x10){return _ref10.apply(this,arguments);};}();};export var getInfoMovie=function getInfoMovie(movieCode){return/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(dispatch){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.prev=0;_context11.next=3;return Axios({url:\"https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayThongTinPhim?MaPhim=\".concat(movieCode),method:'GET',headers:{TokenCybersoft:token}}).then(function(result){dispatch({type:GET_INFO_MOVIE,movieInfo:result.data});});case 3:_context11.next=8;break;case 5:_context11.prev=5;_context11.t0=_context11[\"catch\"](0);console.log(_context11.t0);case 8:case\"end\":return _context11.stop();}}},_callee11,null,[[0,5]]);}));return function(_x11){return _ref11.apply(this,arguments);};}();};export var updateMovie=function updateMovie(dataMovie){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.prev=0;_context12.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/CapNhatPhimUpload',method:'POST',data:dataMovie,headers:{Authorization:'Bearer '+localStorage.getItem(\"ACCESSTOKEN\")// TokenCybersoft: token\n}});case 3:Swal.fire('Thông báo','Cập nhật thành công','success');_context12.next=10;break;case 6:_context12.prev=6;_context12.t0=_context12[\"catch\"](0);console.log(_context12.t0);Swal.fire({title:'Cập nhật thất bại',text:\"\".concat(_context12.t0),icon:'error',confirmButtonColor:'#3085d6',confirmButtonText:'Ok'});case 10:case\"end\":return _context12.stop();}}},_callee12,null,[[0,6]]);}));};export var createShowTime=function createShowTime(formCreate){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(){return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.prev=0;_context13.next=3;return Axios({url:'https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/TaoLichChieu',method:'POST',data:formCreate,headers:{Authorization:'Bearer '+localStorage.getItem(\"ACCESSTOKEN\"),TokenCybersoft:token}});case 3:Swal.fire('Thông báo','Tạo thành công','success');_context13.next=10;break;case 6:_context13.prev=6;_context13.t0=_context13[\"catch\"](0);console.log(_context13.t0);Swal.fire('Thông báo','Tạo thất bại','error');case 10:case\"end\":return _context13.stop();}}},_callee13,null,[[0,6]]);}));};","map":{"version":3,"sources":["D:/FrontEnd/Project/newMovie/src/Redux/Actions/MovieManagerActions.js"],"names":["Axios","Swal","BOOKING_SUCCESS","CHANGE_CODE_CINEMA","GET_BANNER_LIST","GET_CINEMA_BY_CODE","GET_CINEMA_SYSTEM","GET_INFO_MOVIE","GET_MOVIES_LIST","GET_MOVIE_DETAILS","GET_SHOW_SCHEDULE","GET_TICKET_ROOM","token","getBannerList","dispatch","url","method","headers","TokenCybersoft","result","type","bannerList","data","content","console","log","response","getMovieList","moviesList","getCinemaSystem","cinemaSystem","getTheTheaterClusterByCode","code","cinemaByCode","getShowSchedule","showTimes","changeCodeCluster","newCode","getMovieDetails","movieCode","then","movieDetails","getTicketRoom","showtimeCode","ticketRoom","bookTicketsAction","tickets","Authorization","localStorage","getItem","maLichChieu","fire","deleteMovie","catch","error","addMovie","dataMovie","getInfoMovie","movieInfo","updateMovie","title","text","icon","confirmButtonColor","confirmButtonText","createShowTime","formCreate"],"mappings":"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","sourcesContent":["import Axios from 'axios'\r\nimport Swal from 'sweetalert2'\r\nimport { BOOKING_SUCCESS, CHANGE_CODE_CINEMA, GET_BANNER_LIST, GET_CINEMA_BY_CODE, GET_CINEMA_SYSTEM, GET_INFO_MOVIE, GET_MOVIES_LIST, GET_MOVIE_DETAILS, GET_SHOW_SCHEDULE, GET_TICKET_ROOM } from '../Const/MovieManagerConst'\r\nconst token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0ZW5Mb3AiOiJCb290Y2FtcCAxNSIsIkhldEhhblN0cmluZyI6IjIwLzA2LzIwMjIiLCJIZXRIYW5UaW1lIjoiMTY1NTY4MzIwMDAwMCIsIm5iZiI6MTYyNjI4MjAwMCwiZXhwIjoxNjU1ODMwODAwfQ.p47FFJpArherjwlM71xTzdulAQIW37pR6fRGD3t3Ji0'\r\nexport const getBannerList = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let result = await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayDanhSachBanner',\r\n                method: 'GET',\r\n                headers: {\r\n                    TokenCybersoft: token\r\n                }\r\n\r\n            })\r\n            dispatch({\r\n                type: GET_BANNER_LIST,\r\n                bannerList: result.data.content\r\n            })\r\n        } catch (err) {\r\n            console.log('Thất bại', err.response)\r\n        }\r\n    }\r\n}\r\nexport const getMovieList = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let result = await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayDanhSachPhim?maNhom=GP01',\r\n                method: 'GET',\r\n                headers: {\r\n                    TokenCybersoft: token\r\n                }\r\n            })\r\n            dispatch({\r\n                type: GET_MOVIES_LIST,\r\n                moviesList: result.data\r\n            })\r\n        } catch (error) {\r\n            console.log('Thất bại', error.response)\r\n        }\r\n    }\r\n}\r\nexport const getCinemaSystem = () => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let result = await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyRap/LayThongTinHeThongRap',\r\n                method: 'GET',\r\n                headers: {\r\n                    TokenCybersoft: token\r\n                }\r\n            })\r\n            dispatch({\r\n                type: GET_CINEMA_SYSTEM,\r\n                cinemaSystem: result.data\r\n            })\r\n        } catch (error) {\r\n            console.log('Thất bại', error.response)\r\n        }\r\n    }\r\n}\r\nexport const getTheTheaterClusterByCode = (code) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let result = await Axios({\r\n                url: `https://movie0706.cybersoft.edu.vn/api/QuanLyRap/LayThongTinCumRapTheoHeThong?maHeThongRap=${code}`,\r\n                method: 'GET',\r\n                headers: {\r\n                    TokenCybersoft: token\r\n                }\r\n            })\r\n            dispatch({\r\n                type: GET_CINEMA_BY_CODE,\r\n                cinemaByCode: result.data\r\n            })\r\n        } catch (error) {\r\n            console.log('Thất bại', error.response)\r\n        }\r\n    }\r\n}\r\nexport const getShowSchedule = (code) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            let result = await Axios({\r\n                url: `https://movie0706.cybersoft.edu.vn/api/QuanLyRap/LayThongTinLichChieuHeThongRap?maHeThongRap=${code}&maNhom=GP01`,\r\n                method: 'GET',\r\n                headers: {\r\n                    TokenCybersoft: token\r\n                }\r\n            })\r\n            dispatch({\r\n                type: GET_SHOW_SCHEDULE,\r\n                showTimes: result.data\r\n            })\r\n        } catch (error) {\r\n            console.log('Thất bại', error.response)\r\n        }\r\n    }\r\n}\r\nexport const changeCodeCluster = (newCode) => {\r\n    return {\r\n        type: CHANGE_CODE_CINEMA,\r\n        newCode\r\n    }\r\n}\r\nexport const getMovieDetails = (movieCode) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await Axios({\r\n                url: `https://movie0706.cybersoft.edu.vn/api/QuanLyRap/LayThongTinLichChieuPhim?MaPhim=${movieCode}`,\r\n                method: 'GET',\r\n                headers: {\r\n                    TokenCybersoft: token\r\n                }\r\n            }).then((result) => {\r\n                dispatch({\r\n                    type: GET_MOVIE_DETAILS,\r\n                    movieDetails: result.data\r\n                })\r\n            })\r\n        } catch (error) {\r\n            console.log('Thất bại', error.response)\r\n\r\n        }\r\n    }\r\n}\r\nexport const getTicketRoom = (showtimeCode) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await Axios({\r\n                url: `https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/LayDanhSachPhongVe?MaLichChieu=${showtimeCode}`,\r\n                method: 'GET',\r\n                headers: {\r\n                    TokenCybersoft: token\r\n                }\r\n            }).then((result) => {\r\n                dispatch({\r\n                    type: GET_TICKET_ROOM,\r\n                    ticketRoom: result.data\r\n                })\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log('Thất bại', error.response)\r\n        }\r\n    }\r\n}\r\nexport const bookTicketsAction = (tickets) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/DatVe',\r\n                method: 'POST',\r\n                data: tickets,\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem(\"ACCESSTOKEN\"),\r\n                    // TokenCybersoft: token\r\n                }\r\n            }).then((result) => {\r\n                dispatch(getTicketRoom(tickets.maLichChieu))\r\n                Swal.fire('Thông báo', 'Đặt vé thành công', 'success')\r\n                dispatch({\r\n                    type: BOOKING_SUCCESS,\r\n                })\r\n            })\r\n        } catch (error) {\r\n            Swal.fire('Thông báo', `Mua vé thất bại ${error}`, 'error')\r\n        }\r\n    }\r\n}\r\nexport const deleteMovie = (movieCode) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await Axios({\r\n                url: `https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/XoaPhim?MaPhim=${movieCode}`,\r\n                method: 'DELETE',\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem(\"ACCESSTOKEN\"),\r\n                    TokenCybersoft: token\r\n                }\r\n            }).then((result) => {\r\n                dispatch(getMovieList())\r\n                Swal.fire('Thông báo', 'Xóa thành công', 'success')\r\n            }).catch((error) => {\r\n                Swal.fire('Thông báo', `Xóa thất bại ${error}`, 'error')\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n            Swal.fire('Thông báo', `Xóa thất bại ${error}`, 'error')\r\n        }\r\n    }\r\n}\r\nexport const addMovie = (dataMovie) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/ThemPhimUploadHinh',\r\n                method: 'POST',\r\n                data: dataMovie,\r\n                headers: {\r\n                    TokenCybersoft: token\r\n                }\r\n            }).then((result) => {\r\n                dispatch(getMovieList())\r\n                Swal.fire('Thông báo', 'Thêm phim thành công', 'success')\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n            Swal.fire('Thông báo', 'Thêm phim thất bại', 'error')\r\n        }\r\n    }\r\n}\r\nexport const getInfoMovie = (movieCode) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            await Axios({\r\n                url: `https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayThongTinPhim?MaPhim=${movieCode}`,\r\n                method: 'GET',\r\n                headers: {\r\n                    TokenCybersoft: token\r\n                }\r\n            }).then((result) => {\r\n                dispatch({\r\n                    type: GET_INFO_MOVIE,\r\n                    movieInfo: result.data\r\n                })\r\n            })\r\n        } catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\nexport const updateMovie = (dataMovie) => {\r\n    return async () => {\r\n        try {\r\n            await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/CapNhatPhimUpload',\r\n                method: 'POST',\r\n                data: dataMovie,\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem(\"ACCESSTOKEN\"),\r\n                    // TokenCybersoft: token\r\n                }\r\n            })\r\n            Swal.fire('Thông báo', 'Cập nhật thành công', 'success')\r\n        } catch (error) {\r\n            console.log(error);\r\n            Swal.fire({\r\n                title: 'Cập nhật thất bại',\r\n                text: `${error}`,\r\n                icon: 'error',\r\n                confirmButtonColor: '#3085d6',\r\n                confirmButtonText: 'Ok',\r\n            })\r\n        }\r\n    }\r\n}\r\nexport const createShowTime = (formCreate) => {\r\n    return async () => {\r\n        try {\r\n            await Axios({\r\n                url: 'https://movie0706.cybersoft.edu.vn/api/QuanLyDatVe/TaoLichChieu',\r\n                method: 'POST',\r\n                data: formCreate,\r\n                headers: {\r\n                    Authorization: 'Bearer ' + localStorage.getItem(\"ACCESSTOKEN\"),\r\n                    TokenCybersoft: token\r\n                }\r\n            })\r\n            Swal.fire('Thông báo', 'Tạo thành công', 'success')\r\n        } catch (err) {\r\n            console.log(err)\r\n            Swal.fire('Thông báo', 'Tạo thất bại', 'error')\r\n\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}