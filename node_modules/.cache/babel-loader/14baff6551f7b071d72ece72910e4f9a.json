{"ast":null,"code":"import _slicedToArray from\"D:/FrontEnd/Project/newMovie/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import DeleteIcon from'@mui/icons-material/Delete';import EditIcon from'@mui/icons-material/Edit';import Button from'@mui/material/Button';import IconButton from'@mui/material/IconButton';import{Input,Table}from'antd';import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import Swal from'sweetalert2';import{deleteUser,getUserList}from'../../../Redux/Actions/UserManagerActions';import AddUser from'./AddUser';import UpdateUser from'./UpdateUser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminUserManager(){var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),userList=_useState4[0],setUserList=_useState4[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var userListRedux=useSelector(function(state){return state.UserManagerReducer.userList;});var Search=Input.Search;var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setUser();setOpen(false);};var _onSearch=function onSearch(keyWord){console.log(keyWord);if(keyWord){var newData=userList.filter(function(item){return item.taiKhoan.toLowerCase().indexOf(keyWord)!==-1;});setUserList(newData);}else{setUserList(userListRedux);}};var onDelete=function onDelete(account){Swal.fire({title:'Bạn có chắc muốn xóa ?',icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Xác nhận',cancelButtonText:'Hủy'}).then(function(result){if(result.isConfirmed){dispatch(deleteUser(account));}});};var editMovie=function editMovie(userCode){setUser(userCode);setOpen(true);};var columns=[{title:'Tài khoản',dataIndex:'taiKhoan',width:\"15%\"},{title:'Mật khẩu',dataIndex:'matKhau',width:\"10%\"},{title:'Loại người dùng',dataIndex:'maLoaiNguoiDung',width:'10%',sorter:function sorter(a,b){var loaiNguoiDungA=a.maLoaiNguoiDung.toLowerCase().trim();var loaiNguoiDungB=b.maLoaiNguoiDung.toLowerCase().trim();if(loaiNguoiDungA>loaiNguoiDungB){return 1;}return-1;}},{title:'Họ Tên',dataIndex:'hoTen',width:'20%'},{title:'Số điện thoại',dataIndex:'soDt',width:'10%'},{title:'Email',dataIndex:'email',width:'15%'},{title:'Chỉnh sửa',className:'adminEdit',dataIndex:'taiKhoan',width:'20%',render:function render(taiKhoan,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"adminEdit\",children:[/*#__PURE__*/_jsx(IconButton,{color:\"primary\",\"aria-label\":\"primary\",size:\"large\",onClick:function onClick(){return editMovie(taiKhoan);},children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsx(IconButton,{color:\"error\",\"aria-label\":\"delete\",size:\"large\",onClick:function onClick(){return onDelete(taiKhoan);},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]},index);}}];useEffect(function(){setUserList(userListRedux);},[userListRedux]);useEffect(function(){dispatch(getUserList());},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"adminMovieManager\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Qu\\u1EA3n ng\\u01B0\\u1EDDi d\\xF9ng\"}),/*#__PURE__*/_jsx(Button,{className:\"btn-add\",variant:\"contained\",onClick:handleClickOpen,children:\"Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng\"}),user?/*#__PURE__*/_jsx(UpdateUser,{open:open,handleClose:handleClose,user:user}):/*#__PURE__*/_jsx(AddUser,{open:open,handleClose:handleClose}),/*#__PURE__*/_jsx(Search,{className:\"mt-4 mb-4\",placeholder:\"Nh\\u1EADp t\\xE0i kho\\u1EA3n c\\u1EA7n t\\xECm\",enterButton:\"T\\xECm ki\\u1EBFm\",size:\"large\",onSearch:function onSearch(keyWord){return _onSearch(keyWord);}}),/*#__PURE__*/_jsx(Table,{pagination:{defaultPageSize:8},columns:columns,dataSource:userList})]});}","map":{"version":3,"sources":["D:/FrontEnd/Project/newMovie/src/Pages/Admin/User/Admin-UserManager.js"],"names":["DeleteIcon","EditIcon","Button","IconButton","Input","Table","React","useEffect","useState","useDispatch","useSelector","Swal","deleteUser","getUserList","AddUser","UpdateUser","AdminUserManager","dispatch","user","setUser","userList","setUserList","open","setOpen","userListRedux","state","UserManagerReducer","Search","handleClickOpen","handleClose","onSearch","keyWord","console","log","newData","filter","item","taiKhoan","toLowerCase","indexOf","onDelete","account","fire","title","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","editMovie","userCode","columns","dataIndex","width","sorter","a","b","loaiNguoiDungA","maLoaiNguoiDung","trim","loaiNguoiDungB","className","render","index","defaultPageSize"],"mappings":"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","sourcesContent":["import DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { Input, Table } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport { deleteUser, getUserList } from '../../../Redux/Actions/UserManagerActions';\r\nimport AddUser from './AddUser';\r\nimport UpdateUser from './UpdateUser';\r\n\r\nexport default function AdminUserManager() {\r\n    const dispatch = useDispatch()\r\n\r\n    const [user, setUser] = useState()\r\n    const [userList, setUserList] = useState()\r\n    const [open, setOpen] = React.useState(false);\r\n    const userListRedux = useSelector(state => state.UserManagerReducer.userList)\r\n    const { Search } = Input;\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n    const handleClose = () => {\r\n        setUser()\r\n        setOpen(false);\r\n    };\r\n    const onSearch = (keyWord) => {\r\n        console.log(keyWord);\r\n        if (keyWord) {\r\n            let newData = userList.filter((item) => {\r\n                return item.taiKhoan.toLowerCase().indexOf(keyWord) !== -1\r\n            })\r\n            setUserList(newData)\r\n        } else {\r\n            setUserList(userListRedux)\r\n        }\r\n    }\r\n    const onDelete = (account) => {\r\n        Swal.fire({\r\n            title: 'Bạn có chắc muốn xóa ?',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Xác nhận',\r\n            cancelButtonText: 'Hủy'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                dispatch(deleteUser(account))\r\n            }\r\n        })\r\n    }\r\n    const editMovie = (userCode) => {\r\n        setUser(userCode)\r\n        setOpen(true);\r\n    }\r\n    const columns = [\r\n        {\r\n            title: 'Tài khoản',\r\n            dataIndex: 'taiKhoan',\r\n            width: \"15%\",\r\n        },\r\n        {\r\n            title: 'Mật khẩu',\r\n            dataIndex: 'matKhau',\r\n            width: \"10%\",\r\n        },\r\n        {\r\n            title: 'Loại người dùng',\r\n            dataIndex: 'maLoaiNguoiDung',\r\n            width: '10%',\r\n            sorter: (a, b) => {\r\n                let loaiNguoiDungA = a.maLoaiNguoiDung.toLowerCase().trim()\r\n                let loaiNguoiDungB = b.maLoaiNguoiDung.toLowerCase().trim()\r\n                if (loaiNguoiDungA > loaiNguoiDungB) {\r\n                    return 1\r\n                }\r\n                return -1\r\n            },\r\n        },\r\n        {\r\n            title: 'Họ Tên',\r\n            dataIndex: 'hoTen',\r\n            width: '20%',\r\n        },\r\n        {\r\n            title: 'Số điện thoại',\r\n            dataIndex: 'soDt',\r\n            width: '10%',\r\n        },\r\n        {\r\n            title: 'Email',\r\n            dataIndex: 'email',\r\n            width: '15%',\r\n        },\r\n        {\r\n            title: 'Chỉnh sửa',\r\n            className: 'adminEdit',\r\n            dataIndex: 'taiKhoan',\r\n            width: '20%',\r\n            render: (taiKhoan, index) => {\r\n                return <div key={index} className='adminEdit'>\r\n                    <IconButton color='primary' aria-label=\"primary\" size=\"large\" onClick={() => editMovie(taiKhoan)}>\r\n                        <EditIcon />\r\n                    </IconButton>\r\n                    <IconButton color='error' aria-label=\"delete\" size=\"large\" onClick={() => onDelete(taiKhoan)}>\r\n                        <DeleteIcon />\r\n                    </IconButton>\r\n\r\n                </div>\r\n            }\r\n        },\r\n    ];\r\n    useEffect(() => {\r\n        setUserList(userListRedux)\r\n    }, [userListRedux])\r\n    useEffect(() => {\r\n        dispatch(getUserList())\r\n    }, [dispatch])\r\n    return (\r\n        <div className='adminMovieManager'>\r\n            <h2 className='title'>Quản người dùng</h2>\r\n            <Button className='btn-add' variant=\"contained\" onClick={handleClickOpen}>\r\n                Thêm người dùng\r\n            </Button>\r\n            {user ? <UpdateUser open={open} handleClose={handleClose} user={user} /> : <AddUser open={open} handleClose={handleClose} />}\r\n            <Search\r\n                className='mt-4 mb-4'\r\n                placeholder=\"Nhập tài khoản cần tìm\"\r\n                enterButton='Tìm kiếm'\r\n                size=\"large\"\r\n                onSearch={(keyWord) => onSearch(keyWord)}\r\n            />\r\n            <Table pagination={{ defaultPageSize: 8 }} columns={columns} dataSource={userList} />\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}