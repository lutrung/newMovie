{"ast":null,"code":"var _jsxFileName = \"E:\\\\FrontEnd\\\\Project\\\\newMovie\\\\src\\\\Pages\\\\HomePage\\\\MovieTheater\\\\MovieTheater.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable array-callback-return */\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport background from '../../../Assets/Images/back-news.png';\nimport { getCinemaSystem } from '../../../Redux/Actions/MovieManagerActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MovieTheater() {\n  _s();\n\n  const dispatch = useDispatch(); // He Thong Rap\n\n  const cinemaSystem = useSelector(state => state.MovieManagerReducer.cinemaSystem); // Ma He Thong Rap\n\n  const [codeCinema, setCodeCinema] = useState('BHDStar'); // Rap Theo Ma\n  // Lich Chieu\n\n  const showTimes = useSelector(state => state.MovieManagerReducer.showTimes);\n  const [showTimeByTheater, setShowTimeByTheater] = useState('bhd-star-cineplex-pham-hung');\n\n  const onChangeCluster = (key, codeOfCinema) => {\n    setCodeCinema(codeOfCinema);\n    let listLogoItem = document.getElementsByClassName('logo-item');\n    let lengthListLogoItem = listLogoItem.length;\n\n    for (let i = 0; i < lengthListLogoItem; i++) {\n      if (listLogoItem[i].classList.contains('active')) {\n        listLogoItem[i].classList.remove('active');\n      }\n\n      if (key === i) {\n        listLogoItem[i].classList.add('active');\n      }\n    }\n\n    let listCinema = document.getElementsByClassName('cinemaByCode-item');\n    let lengthListCinema = listCinema.length;\n\n    for (let i = 0; i < lengthListCinema; i++) {\n      listCinema[i].classList.remove('active');\n    }\n\n    setShowTimeByTheater('');\n  };\n\n  const onChangeShowTime = (key, showTime) => {\n    let listCinema = document.getElementsByClassName('cinemaByCode-item');\n    let listLength = listCinema.length;\n\n    for (let i = 0; i < listLength; i++) {\n      if (listCinema[i].classList.contains('active')) {\n        listCinema[i].classList.remove('active');\n      }\n\n      if (key === i) {\n        listCinema[i].classList.add('active');\n      }\n    }\n\n    setShowTimeByTheater(showTime);\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      dispatch(await getCinemaSystem());\n    }\n\n    fetchData();\n  }, [codeCinema, dispatch]);\n  console.log(cinemaSystem);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"cumrap\",\n    className: \"movieTheater\",\n    style: {\n      backgroundImage: `url(${background})`\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movieTheater-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"theater-logo\",\n        children: cinemaSystem === null || cinemaSystem === void 0 ? void 0 : cinemaSystem.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `logo-item ${index === 0 ? 'active' : null}`,\n            onClick: () => onChangeCluster(index, item.maHeThongRap),\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.logo,\n              width: 50,\n              height: 50,\n              alt: \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 33\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"theater-cluster\",\n        children: cinemaSystem === null || cinemaSystem === void 0 ? void 0 : cinemaSystem.map(item2 => {\n          if (item2.maHeThongRap == codeCinema) {\n            return item2.lstCumRap.slice(0, 10).map((item, index) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cinemaByCode-item\",\n                onClick: () => onChangeShowTime(index, item.maCumRap),\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"cinemaByCode-logo\",\n                  src: \"https://s3img.vcdn.vn/123phim/2021/01/bhd-star-bitexco-16105952137769.png\",\n                  alt: \"...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cinemaByCode-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    title: item.tenCumRap,\n                    className: \"info-name\",\n                    children: item.tenCumRap\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    title: item.diaChi,\n                    className: \"info-address\",\n                    children: item.diaChi\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"info-detail\",\n                    children: \"[Chi ti\\u1EBFt]\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 37\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 40\n              }, this);\n            });\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"theater-showtime\",\n        children: cinemaSystem === null || cinemaSystem === void 0 ? void 0 : cinemaSystem.map(item2 => {\n          if (item2.maHeThongRap == codeCinema) {\n            return item2.lstCumRap.map((cinema, index) => {\n              if (cinema.maCumRap == showTimeByTheater) {\n                var _cinema$danhSachPhim;\n\n                return (_cinema$danhSachPhim = cinema.danhSachPhim) === null || _cinema$danhSachPhim === void 0 ? void 0 : _cinema$danhSachPhim.slice(0, 10).map((movieInfo, indeMovieInfo) => {\n                  var _movieInfo$lstLichChi;\n\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"item-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"info-top\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: movieInfo === null || movieInfo === void 0 ? void 0 : movieInfo.hinhAnh,\n                        alt: \"...\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 95,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                          className: \"top-name\",\n                          children: movieInfo.tenPhim\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 97,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"top-rate\",\n                          children: \"157 ph\\xFAt - TIX 0 - IMDb 6.8\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 98,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 96,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"info-bottom\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        children: \"Su\\u1EA5t chi\\u1EBFu:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 102,\n                        columnNumber: 49\n                      }, this), (_movieInfo$lstLichChi = movieInfo.lstLichChieuTheoPhim) === null || _movieInfo$lstLichChi === void 0 ? void 0 : _movieInfo$lstLichChi.slice(0, 7).map((time, index) => {\n                        return /*#__PURE__*/_jsxDEV(NavLink, {\n                          to: '/phongve/' + time.maLichChieu,\n                          className: \"btn-time\",\n                          variant: \"outlined\",\n                          children: moment(time.ngayChieuGioChieu).format('hh:mm')\n                        }, index, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 104,\n                          columnNumber: 60\n                        }, this);\n                      })]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 45\n                    }, this)]\n                  }, indeMovieInfo, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 48\n                  }, this);\n                });\n              }\n            });\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MovieTheater, \"7+gn6typ/dARO1VzQFf3qvY0Jos=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = MovieTheater;\nexport default _c2 = /*#__PURE__*/React.memo(MovieTheater);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MovieTheater\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["E:/FrontEnd/Project/newMovie/src/Pages/HomePage/MovieTheater/MovieTheater.js"],"names":["moment","React","useEffect","useState","useDispatch","useSelector","NavLink","background","getCinemaSystem","MovieTheater","dispatch","cinemaSystem","state","MovieManagerReducer","codeCinema","setCodeCinema","showTimes","showTimeByTheater","setShowTimeByTheater","onChangeCluster","key","codeOfCinema","listLogoItem","document","getElementsByClassName","lengthListLogoItem","length","i","classList","contains","remove","add","listCinema","lengthListCinema","onChangeShowTime","showTime","listLength","fetchData","console","log","backgroundImage","map","item","index","maHeThongRap","logo","item2","lstCumRap","slice","maCumRap","tenCumRap","diaChi","cinema","danhSachPhim","movieInfo","indeMovieInfo","hinhAnh","tenPhim","lstLichChieuTheoPhim","time","maLichChieu","ngayChieuGioChieu","format","memo"],"mappings":"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","sourcesContent":["/* eslint-disable array-callback-return */\r\nimport moment from 'moment';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport background from '../../../Assets/Images/back-news.png';\r\nimport { getCinemaSystem } from '../../../Redux/Actions/MovieManagerActions';\r\nfunction MovieTheater() {\r\n    const dispatch = useDispatch()\r\n    // He Thong Rap\r\n    const cinemaSystem = useSelector(state => state.MovieManagerReducer.cinemaSystem)\r\n    // Ma He Thong Rap\r\n    const [codeCinema, setCodeCinema] = useState('BHDStar')\r\n    // Rap Theo Ma\r\n    // Lich Chieu\r\n    const showTimes = useSelector(state => state.MovieManagerReducer.showTimes)\r\n    const [showTimeByTheater, setShowTimeByTheater] = useState('bhd-star-cineplex-pham-hung')\r\n    const onChangeCluster = (key, codeOfCinema) => {\r\n        setCodeCinema(codeOfCinema)\r\n        let listLogoItem = document.getElementsByClassName('logo-item')\r\n        let lengthListLogoItem = listLogoItem.length\r\n        for (let i = 0; i < lengthListLogoItem; i++) {\r\n            if (listLogoItem[i].classList.contains('active')) {\r\n                listLogoItem[i].classList.remove('active')\r\n            }\r\n            if (key === i) {\r\n                listLogoItem[i].classList.add('active')\r\n            }\r\n        }\r\n        let listCinema = document.getElementsByClassName('cinemaByCode-item')\r\n        let lengthListCinema = listCinema.length\r\n        for (let i = 0; i < lengthListCinema; i++) {\r\n            listCinema[i].classList.remove('active')\r\n\r\n        }\r\n        setShowTimeByTheater('')\r\n    }\r\n    const onChangeShowTime = (key, showTime) => {\r\n        let listCinema = document.getElementsByClassName('cinemaByCode-item')\r\n        let listLength = listCinema.length\r\n        for (let i = 0; i < listLength; i++) {\r\n            if (listCinema[i].classList.contains('active')) {\r\n                listCinema[i].classList.remove('active')\r\n            }\r\n            if (key === i) {\r\n                listCinema[i].classList.add('active')\r\n            }\r\n        }\r\n        setShowTimeByTheater(showTime)\r\n    }\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            dispatch(await getCinemaSystem())\r\n        }\r\n        fetchData()\r\n    }, [codeCinema, dispatch]);\r\n    console.log(cinemaSystem);\r\n    return (\r\n        <div id='cumrap' className='movieTheater' style={{ backgroundImage: `url(${background})` }}>\r\n            <div className='movieTheater-container'>\r\n                <div className='theater-logo'>\r\n                    {cinemaSystem?.map((item, index) => {\r\n                        return (\r\n                            <div key={index} className={`logo-item ${index === 0 ? 'active' : null}`} onClick={() => onChangeCluster(index, item.maHeThongRap)}>\r\n                                <img src={item.logo} width={50} height={50} alt='...' />\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <div className='theater-cluster'>\r\n                    {cinemaSystem?.map((item2) => {\r\n                        if (item2.maHeThongRap == codeCinema) {\r\n                            return item2.lstCumRap.slice(0, 10).map((item, index) => {\r\n                                return <div key={index} className='cinemaByCode-item' onClick={() => onChangeShowTime(index, item.maCumRap)}>\r\n                                    <img className='cinemaByCode-logo' src='https://s3img.vcdn.vn/123phim/2021/01/bhd-star-bitexco-16105952137769.png' alt='...' />\r\n                                    <div className='cinemaByCode-info'>\r\n                                        <p title={item.tenCumRap} className='info-name'>{item.tenCumRap}</p>\r\n                                        <p title={item.diaChi} className='info-address'>{item.diaChi}</p>\r\n                                        <p className='info-detail'>[Chi tiết]</p>\r\n                                    </div>\r\n                                </div>\r\n                            })\r\n                        }\r\n                    })}\r\n\r\n                </div>\r\n                <div className='theater-showtime'>\r\n                    {cinemaSystem?.map((item2) => {\r\n                        if (item2.maHeThongRap == codeCinema) {\r\n                            return item2.lstCumRap.map((cinema, index) => {\r\n                                if (cinema.maCumRap == showTimeByTheater) {\r\n                                    return cinema.danhSachPhim?.slice(0, 10).map((movieInfo, indeMovieInfo) => {\r\n                                        return <div key={indeMovieInfo} className='item-info'>\r\n                                            <div className='info-top'>\r\n                                                <img src={movieInfo?.hinhAnh} alt='...' />\r\n                                                <div>\r\n                                                    <h3 className='top-name'>{movieInfo.tenPhim}</h3>\r\n                                                    <p className='top-rate'>157 phút - TIX 0 - IMDb 6.8</p>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className='info-bottom'>\r\n                                                <h4>Suất chiếu:</h4>\r\n                                                {movieInfo.lstLichChieuTheoPhim?.slice(0, 7).map((time, index) => {\r\n                                                    return <NavLink to={'/phongve/' + time.maLichChieu} key={index} className='btn-time' variant=\"outlined\">{moment(time.ngayChieuGioChieu).format('hh:mm')}</NavLink>\r\n                                                })}\r\n                                            </div>\r\n                                        </div>\r\n                                    })\r\n                                }\r\n                            })\r\n                        }\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(MovieTheater)\r\n"]},"metadata":{},"sourceType":"module"}