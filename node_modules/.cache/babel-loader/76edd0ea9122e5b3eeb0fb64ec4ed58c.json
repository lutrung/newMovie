{"ast":null,"code":"var _jsxFileName = \"D:\\\\FrontEnd\\\\Project\\\\newMovie\\\\src\\\\Pages\\\\Admin\\\\Movie\\\\Admin-MovieManager.js\",\n    _s = $RefreshSig$();\n\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport EditIcon from '@mui/icons-material/Edit';\nimport Button from '@mui/material/Button';\nimport IconButton from '@mui/material/IconButton';\nimport { Input, Table } from 'antd';\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Swal from 'sweetalert2';\nimport { deleteMovie } from '../../../Redux/Actions/MovieManagerActions';\nimport AddMovie from './AddMovie';\nimport CreateShowtime from './Create-Showtime';\nimport EditMovie from './EditMovie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminMovieManager() {\n  _s();\n\n  const [movieCode, setMovieCode] = useState(); // DIALOG\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setMovieCode();\n  };\n\n  const [openCreateST, setOpenCreateST] = useState(false);\n\n  const handleClickOpenCreateST = movieCode => {\n    setMovieCode(movieCode);\n    setOpenCreateST(true);\n  };\n\n  const handleCloseCreateST = () => {\n    setOpenCreateST(false);\n  };\n\n  const dispatch = useDispatch();\n  const {\n    Search\n  } = Input;\n  const [data, setData] = useState();\n  const moviesList = useSelector(state => state.MovieManagerReducer.moviesList);\n  useEffect(() => {\n    if (moviesList) {\n      setData(moviesList);\n    }\n  }, [moviesList]);\n\n  const onSearch = keyWord => {\n    if (keyWord) {\n      let newData = moviesList.filter(item => {\n        return item.tenPhim.toLowerCase().indexOf(keyWord) !== -1;\n      });\n      setData(newData);\n    } else {\n      setData(moviesList);\n    }\n  };\n\n  const onDelete = movieCode => {\n    Swal.fire({\n      title: 'Bạn có chắc muốn xóa ?',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Xác nhận',\n      cancelButtonText: 'Hủy'\n    }).then(result => {\n      if (result.isConfirmed) {\n        dispatch(deleteMovie(movieCode));\n      }\n    });\n  };\n\n  const editMovie = movieCode => {\n    setOpen(true);\n    setMovieCode(movieCode);\n  };\n\n  const columns = [{\n    title: 'Mã phim',\n    dataIndex: 'maPhim',\n    sorter: (a, b) => a.maPhim - b.maPhim,\n    sortDirections: ['descend'],\n    width: \"15%\"\n  }, {\n    title: 'Hình ảnh',\n    dataIndex: 'hinhAnh',\n    width: \"15%\",\n    render: (hinhAnh, index) => {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: hinhAnh,\n        alt: hinhAnh,\n        width: 60,\n        height: 80\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 24\n      }, this);\n    }\n  }, {\n    title: 'Tên phim',\n    dataIndex: 'tenPhim',\n    defaultSortOrder: 'descend',\n    width: '25%'\n  }, {\n    title: 'Mô tả',\n    dataIndex: 'moTa',\n    width: '25%',\n    render: (moTa, index) => {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: moTa.length > 50 ? moTa.substr(0, 100) + '...' : moTa\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 24\n      }, this);\n    }\n  }, {\n    title: 'Chỉnh sửa',\n    className: 'adminEdit',\n    dataIndex: 'maPhim',\n    width: '20%',\n    render: (maPhim, index) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"adminEdit\",\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          \"aria-label\": \"primary\",\n          size: \"large\",\n          onClick: () => editMovie(maPhim),\n          children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"error\",\n          \"aria-label\": \"delete\",\n          size: \"large\",\n          onClick: () => onDelete(maPhim),\n          children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"success\",\n          onClick: () => handleClickOpenCreateST(maPhim),\n          children: \"T\\u1EA1o l\\u1ECBch chi\\u1EBFu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 24\n      }, this);\n    }\n  }];\n  const [valueee, setvaluee] = React.useState(null);\n\n  let onchangeee = event => {\n    console.log(parseInt(event.target.value.replace(/[^\\d]+/gi, '')) || 0).toLocaleString('en-US');\n  }; // useEffect(() => {\n  //     document.getElementById('Price').addEventListener('input', (event) =>\n  // //    event.target.value = (parseInt(event.target.value.replace(/[^\\d]+/gi, '')) || 0).toLocaleString('en-US')\n  //    console.log((parseInt(event.target.value.replace(/[^\\d]+/gi, '')) || 0).toLocaleString('en-US'))\n  //   );\n  // }, [])\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"adminMovieManager\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"title\",\n      children: \"Qu\\u1EA3n l\\xFD phim\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: \"btn-add\",\n      variant: \"contained\",\n      onClick: handleClickOpen,\n      children: \"Th\\xEAm phim\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"Price\",\n      type: \"text\",\n      pattern: \"^[\\\\d,]+$\",\n      classname: \"validate\",\n      value: valueee,\n      onInput: e => onchangeee(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 12\n    }, this), movieCode ? /*#__PURE__*/_jsxDEV(EditMovie, {\n      open: open,\n      handleClose: handleClose,\n      movieCode: movieCode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 26\n    }, this) : /*#__PURE__*/_jsxDEV(AddMovie, {\n      open: open,\n      handleClose: handleClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 102\n    }, this), /*#__PURE__*/_jsxDEV(CreateShowtime, {\n      open: openCreateST,\n      handleClose: handleCloseCreateST,\n      movieCode: movieCode\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      className: \"mt-4 mb-4\",\n      placeholder: \"Nh\\u1EADp t\\xEAn phim c\\u1EA7n t\\xECm\",\n      enterButton: \"T\\xECm ki\\u1EBFm\",\n      size: \"large\",\n      onSearch: keyWord => onSearch(keyWord)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      pagination: {\n        defaultPageSize: 5\n      },\n      columns: columns,\n      dataSource: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AdminMovieManager, \"H9Zco1xeiQpYHbx5GDyLJkTL6t8=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = AdminMovieManager;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminMovieManager\");","map":{"version":3,"sources":["D:/FrontEnd/Project/newMovie/src/Pages/Admin/Movie/Admin-MovieManager.js"],"names":["DeleteIcon","EditIcon","Button","IconButton","Input","Table","React","Fragment","useEffect","useState","useDispatch","useSelector","Swal","deleteMovie","AddMovie","CreateShowtime","EditMovie","AdminMovieManager","movieCode","setMovieCode","open","setOpen","handleClickOpen","handleClose","openCreateST","setOpenCreateST","handleClickOpenCreateST","handleCloseCreateST","dispatch","Search","data","setData","moviesList","state","MovieManagerReducer","onSearch","keyWord","newData","filter","item","tenPhim","toLowerCase","indexOf","onDelete","fire","title","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","editMovie","columns","dataIndex","sorter","a","b","maPhim","sortDirections","width","render","hinhAnh","index","defaultSortOrder","moTa","length","substr","className","valueee","setvaluee","onchangeee","event","console","log","parseInt","target","value","replace","toLocaleString","e","defaultPageSize"],"mappings":"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","sourcesContent":["import DeleteIcon from '@mui/icons-material/Delete';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport Button from '@mui/material/Button';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport { Input, Table } from 'antd';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport { deleteMovie } from '../../../Redux/Actions/MovieManagerActions';\r\nimport AddMovie from './AddMovie';\r\nimport CreateShowtime from './Create-Showtime';\r\nimport EditMovie from './EditMovie';\r\n\r\nexport default function AdminMovieManager() {\r\n    const [movieCode, setMovieCode] = useState()\r\n\r\n    // DIALOG\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n        setMovieCode()\r\n    };\r\n    const [openCreateST, setOpenCreateST] = useState(false)\r\n    const handleClickOpenCreateST = (movieCode) => {\r\n        setMovieCode(movieCode)\r\n        setOpenCreateST(true);\r\n    };\r\n    const handleCloseCreateST = () => {\r\n        setOpenCreateST(false);\r\n    };\r\n    const dispatch = useDispatch()\r\n    const { Search } = Input;\r\n    const [data, setData] = useState()\r\n    const moviesList = useSelector(state => state.MovieManagerReducer.moviesList)\r\n    useEffect(() => {\r\n        if (moviesList) {\r\n            setData(moviesList)\r\n        }\r\n    }, [moviesList])\r\n    const onSearch = (keyWord) => {\r\n        if (keyWord) {\r\n            let newData = moviesList.filter((item) => {\r\n                return item.tenPhim.toLowerCase().indexOf(keyWord) !== -1\r\n            })\r\n            setData(newData)\r\n        } else {\r\n            setData(moviesList)\r\n        }\r\n\r\n    }\r\n    const onDelete = (movieCode) => {\r\n        Swal.fire({\r\n            title: 'Bạn có chắc muốn xóa ?',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Xác nhận',\r\n            cancelButtonText: 'Hủy'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                dispatch(deleteMovie(movieCode))\r\n            }\r\n        })\r\n    }\r\n    const editMovie = (movieCode) => {\r\n        setOpen(true);\r\n        setMovieCode(movieCode)\r\n    }\r\n    const columns = [\r\n        {\r\n            title: 'Mã phim',\r\n            dataIndex: 'maPhim',\r\n            sorter: (a, b) => a.maPhim - b.maPhim,\r\n            sortDirections: ['descend'],\r\n            width: \"15%\",\r\n        },\r\n        {\r\n            title: 'Hình ảnh',\r\n            dataIndex: 'hinhAnh',\r\n            width: \"15%\",\r\n            render: (hinhAnh, index) => {\r\n                return <img key={index} src={hinhAnh} alt={hinhAnh} width={60} height={80} />\r\n            }\r\n        },\r\n        {\r\n            title: 'Tên phim',\r\n            dataIndex: 'tenPhim',\r\n            defaultSortOrder: 'descend',\r\n            width: '25%',\r\n        },\r\n        {\r\n            title: 'Mô tả',\r\n            dataIndex: 'moTa',\r\n            width: '25%',\r\n            render: (moTa, index) => {\r\n                return <Fragment key={index}>\r\n                    {moTa.length > 50 ? moTa.substr(0, 100) + '...' : moTa}\r\n                </Fragment>\r\n            }\r\n        },\r\n        {\r\n            title: 'Chỉnh sửa',\r\n            className: 'adminEdit',\r\n            dataIndex: 'maPhim',\r\n            width: '20%',\r\n            render: (maPhim, index) => {\r\n                return <div key={index} className='adminEdit'>\r\n                    <IconButton color='primary' aria-label=\"primary\" size=\"large\" onClick={() => editMovie(maPhim)}>\r\n                        <EditIcon />\r\n                    </IconButton>\r\n                    <IconButton color='error' aria-label=\"delete\" size=\"large\" onClick={() => onDelete(maPhim)}>\r\n                        <DeleteIcon />\r\n                    </IconButton>\r\n                    <Button variant=\"contained\" color='success' onClick={() => handleClickOpenCreateST(maPhim)}>\r\n                        Tạo lịch chiếu\r\n                    </Button>\r\n                </div>\r\n            }\r\n        },\r\n    ];\r\n    const [valueee, setvaluee] = React.useState(null);\r\n    let onchangeee = (event)=>{\r\n        console.log(parseInt(event.target.value.replace(/[^\\d]+/gi, '')) || 0).toLocaleString('en-US');\r\n    }\r\n    // useEffect(() => {\r\n    //     document.getElementById('Price').addEventListener('input', (event) =>\r\n    // //    event.target.value = (parseInt(event.target.value.replace(/[^\\d]+/gi, '')) || 0).toLocaleString('en-US')\r\n    //    console.log((parseInt(event.target.value.replace(/[^\\d]+/gi, '')) || 0).toLocaleString('en-US'))\r\n    //   );\r\n    // }, [])\r\n    return (\r\n        <div className='adminMovieManager'>\r\n            <h2 className='title'>Quản lý phim</h2>\r\n            <Button className='btn-add' variant=\"contained\" onClick={handleClickOpen}>\r\n                Thêm phim\r\n            </Button>\r\n           <input id=\"Price\" type=\"text\" pattern=\"^[\\d,]+$\" classname=\"validate\" value={valueee} onInput={(e)=>onchangeee(e)} />\r\n\r\n            {movieCode ? <EditMovie open={open} handleClose={handleClose} movieCode={movieCode} /> : <AddMovie open={open} handleClose={handleClose} />}\r\n            <CreateShowtime open={openCreateST} handleClose={handleCloseCreateST} movieCode={movieCode} />\r\n            <Search\r\n                className='mt-4 mb-4'\r\n                placeholder=\"Nhập tên phim cần tìm\"\r\n                enterButton=\"Tìm kiếm\"\r\n                size=\"large\"\r\n                onSearch={(keyWord) => onSearch(keyWord)}\r\n            />\r\n            <Table pagination={{ defaultPageSize: 5 }} columns={columns} dataSource={data} />\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}