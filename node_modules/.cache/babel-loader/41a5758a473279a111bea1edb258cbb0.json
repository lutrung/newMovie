{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import Swal from'sweetalert2';import{bookTicketsAction}from'../../../Redux/Actions/MovieManagerActions';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function TicketInfo(_ref){var _ticketRoom$thongTinP,_ticketRoom$thongTinP2,_ticketRoom$thongTinP3,_ticketRoom$thongTinP4,_ticketRoom$thongTinP5;var showtimeCode=_ref.showtimeCode;var dispatch=useDispatch();var ticketRoom=useSelector(function(state){return state.MovieManagerReducer.ticketRoom;});var listBookingSeat=useSelector(function(state){return state.MovieManagerReducer.listBookingSeat;});var bookTickets=function bookTickets(){var tickets={\"maLichChieu\":showtimeCode,\"danhSachVe\":listBookingSeat.map(function(item){return{\"maGhe\":item.seatCode,\"giaVe\":item.ticketPrice};})};Swal.fire({title:'Thông tin đặt vé sẽ được gửi qua email',text:\"Hãy kiểm tra thông tin trước khi xác nhận!\",icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Xác nhận',cancelButtonText:'Hủy'}).then(function(result){if(result.isConfirmed){dispatch(bookTicketsAction(tickets));}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"ticketInfo\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ticketInfo-top\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"ticketInfo-price\",children:[listBookingSeat.reduce(function(total,seat){return total+=seat.ticketPrice;},0).toLocaleString(),\" VND\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ticketInfo-details\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"details-left\",src:(_ticketRoom$thongTinP=ticketRoom.thongTinPhim)===null||_ticketRoom$thongTinP===void 0?void 0:_ticketRoom$thongTinP.hinhAnh,alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-right\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"right-nameMovie\",children:(_ticketRoom$thongTinP2=ticketRoom.thongTinPhim)===null||_ticketRoom$thongTinP2===void 0?void 0:_ticketRoom$thongTinP2.tenPhim}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"right-nameTheater right-item\",children:[\"T\\xEAn r\\u1EA1p:\",/*#__PURE__*/_jsxs(\"p\",{children:[(_ticketRoom$thongTinP3=ticketRoom.thongTinPhim)===null||_ticketRoom$thongTinP3===void 0?void 0:_ticketRoom$thongTinP3.tenCumRap,\" - \",(_ticketRoom$thongTinP4=ticketRoom.thongTinPhim)===null||_ticketRoom$thongTinP4===void 0?void 0:_ticketRoom$thongTinP4.tenRap]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-showTime right-item\",children:[\"Ng\\xE0y gi\\u1EDD chi\\u1EBFu:\",/*#__PURE__*/_jsx(\"p\",{children:(_ticketRoom$thongTinP5=ticketRoom.thongTinPhim)===null||_ticketRoom$thongTinP5===void 0?void 0:_ticketRoom$thongTinP5.ngayChieu})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ticketInfo-seatMoblie right-item\",children:[listBookingSeat.length===0?'Vui lòng chọn ghế !':'Ghế:',\"\\u2002\",/*#__PURE__*/_jsx(\"div\",{className:\"seatList\",children:listBookingSeat===null||listBookingSeat===void 0?void 0:listBookingSeat.map(function(seat,index){return/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2002\",seat.stt]},index);})})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ticketInfo-seat\",children:[listBookingSeat.length===0?'Vui lòng chọn ghế !':'Ghế:',\"\\u2002\",/*#__PURE__*/_jsx(\"div\",{className:\"seatList\",children:listBookingSeat===null||listBookingSeat===void 0?void 0:listBookingSeat.map(function(seat,index){return/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u2002\",seat.stt]},index);})})]})]}),/*#__PURE__*/_jsx(\"button\",{disabled:listBookingSeat.length===0?'disabled':'',className:\"ticketInfo-btn\",onClick:function onClick(){return bookTickets();},children:\"\\u0110\\u1EB7t v\\xE9\"})]});}export default/*#__PURE__*/React.memo(TicketInfo);","map":{"version":3,"sources":["D:/FrontEnd/Project/newMovie/src/Pages/MovieDetails/TicketRoom-details/TicketInfo.js"],"names":["React","useDispatch","useSelector","Swal","bookTicketsAction","TicketInfo","showtimeCode","dispatch","ticketRoom","state","MovieManagerReducer","listBookingSeat","bookTickets","tickets","map","item","seatCode","ticketPrice","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","reduce","total","seat","toLocaleString","thongTinPhim","hinhAnh","tenPhim","tenCumRap","tenRap","ngayChieu","length","index","stt","memo"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Swal from 'sweetalert2'\r\nimport { bookTicketsAction } from '../../../Redux/Actions/MovieManagerActions'\r\n\r\nfunction TicketInfo({ showtimeCode }) {\r\n    const dispatch = useDispatch()\r\n    const ticketRoom = useSelector(state => state.MovieManagerReducer.ticketRoom)\r\n    const listBookingSeat = useSelector(state => state.MovieManagerReducer.listBookingSeat)\r\n\r\n    const bookTickets = () => {\r\n        let tickets = {\r\n            \"maLichChieu\": showtimeCode,\r\n            \"danhSachVe\": listBookingSeat.map((item) => {\r\n                return {\r\n                    \"maGhe\": item.seatCode,\r\n                    \"giaVe\": item.ticketPrice\r\n                }\r\n            })\r\n        }\r\n        Swal.fire({\r\n            title: 'Thông tin đặt vé sẽ được gửi qua email',\r\n            text: \"Hãy kiểm tra thông tin trước khi xác nhận!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Xác nhận',\r\n            cancelButtonText: 'Hủy'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                dispatch(bookTicketsAction(tickets))\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <div className='ticketInfo'>\r\n            <div className='ticketInfo-top'>\r\n                <h2 className='ticketInfo-price'>{listBookingSeat.reduce((total, seat) => {\r\n                    return total += seat.ticketPrice\r\n                }, 0).toLocaleString()} VND</h2>\r\n                <div className='ticketInfo-details'>\r\n                    <img className='details-left' src={ticketRoom.thongTinPhim?.hinhAnh} alt='...' />\r\n                    <div className='details-right'>\r\n                        <h2 className='right-nameMovie'>{ticketRoom.thongTinPhim?.tenPhim}</h2>\r\n                        <div>\r\n                            <div className='right-nameTheater right-item'>\r\n                                Tên rạp:\r\n                                <p>{ticketRoom.thongTinPhim?.tenCumRap} - {ticketRoom.thongTinPhim?.tenRap}</p>\r\n                            </div>\r\n                            <div className='right-showTime right-item'>\r\n                                Ngày giờ chiếu:\r\n                                <p>{ticketRoom.thongTinPhim?.ngayChieu}</p>\r\n                            </div>\r\n                            <div className='ticketInfo-seatMoblie right-item'>\r\n                                {listBookingSeat.length === 0 ? 'Vui lòng chọn ghế !' : 'Ghế:'}\r\n                                &ensp;\r\n                                <div className='seatList'>\r\n                                    {listBookingSeat?.map((seat, index) => {\r\n                                        return <p key={index}>&ensp;{seat.stt}</p>\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className='ticketInfo-seat'>\r\n                    {listBookingSeat.length === 0 ? 'Vui lòng chọn ghế !' : 'Ghế:'}\r\n                    &ensp;\r\n                    <div className='seatList'>\r\n                        {listBookingSeat?.map((seat, index) => {\r\n                            return <p key={index}>&ensp;{seat.stt}</p>\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button disabled={listBookingSeat.length === 0 ? 'disabled' : ''} className='ticketInfo-btn' onClick={() => bookTickets()}>Đặt vé</button>\r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(TicketInfo)\r\n"]},"metadata":{},"sourceType":"module"}