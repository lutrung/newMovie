{"ast":null,"code":"var _jsxFileName = \"E:\\\\FrontEnd\\\\Project\\\\newMovie\\\\src\\\\Pages\\\\HomePage\\\\MovieTheater\\\\MovieTheater.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable array-callback-return */\nimport moment from 'moment';\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport background from '../../../Assets/Images/back-news.png';\nimport { getCinemaSystem, getShowSchedule, getTheTheaterClusterByCode } from '../../../Redux/Actions/MovieManagerActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction MovieTheater() {\n  _s();\n\n  const dispatch = useDispatch(); // He Thong Rap\n\n  const cinemaSystem = useSelector(state => state.MovieManagerReducer.cinemaSystem); // Ma He Thong Rap\n\n  const codeCinema = useSelector(state => state.MovieManagerReducer.codeCinema); // Rap Theo Ma\n\n  const cinemaByCode = useSelector(state => state.MovieManagerReducer.cinemaByCode); // Lich Chieu\n\n  const showTimes = useSelector(state => state.MovieManagerReducer.showTimes);\n  const [showTimeByTheater, setShowTimeByTheater] = useState('');\n\n  const onChangeCluster = (key, codeOfCinema) => {\n    let listLogoItem = document.getElementsByClassName('logo-item');\n    let lengthListLogoItem = listLogoItem.length;\n\n    for (let i = 0; i < lengthListLogoItem; i++) {\n      if (listLogoItem[i].classList.contains('active')) {\n        listLogoItem[i].classList.remove('active');\n      }\n\n      if (key === i) {\n        listLogoItem[i].classList.add('active');\n      }\n    }\n\n    let listCinema = document.getElementsByClassName('cinemaByCode-item');\n    let lengthListCinema = listCinema.length;\n\n    for (let i = 0; i < lengthListCinema; i++) {\n      listCinema[i].classList.remove('active');\n    }\n\n    setShowTimeByTheater(''); // Doi Lich Chieu Theo Cum Rap\n\n    dispatch(getShowSchedule(codeOfCinema)); // Doi Ma Cum Rap\n\n    dispatch(getTheTheaterClusterByCode(codeOfCinema));\n  };\n\n  const onChangeShowTime = (key, showTime) => {\n    let listCinema = document.getElementsByClassName('cinemaByCode-item');\n    let listLength = listCinema.length;\n\n    for (let i = 0; i < listLength; i++) {\n      if (listCinema[i].classList.contains('active')) {\n        listCinema[i].classList.remove('active');\n      }\n\n      if (key === i) {\n        listCinema[i].classList.add('active');\n      }\n    }\n\n    setShowTimeByTheater(showTime);\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      dispatch(await getCinemaSystem());\n      dispatch(await getTheTheaterClusterByCode(codeCinema));\n      dispatch(await getShowSchedule(codeCinema));\n    }\n\n    fetchData();\n  }, [codeCinema, dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"cumrap\",\n    className: \"movieTheater\",\n    style: {\n      backgroundImage: `url(${background})`\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"movieTheater-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"theater-logo\",\n        children: cinemaSystem === null || cinemaSystem === void 0 ? void 0 : cinemaSystem.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `logo-item ${index === 0 ? 'active' : null}`,\n            onClick: () => onChangeCluster(index, item.maHeThongRap),\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.logo,\n              width: 50,\n              height: 50,\n              alt: \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 33\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"theater-cluster\",\n        children: cinemaByCode === null || cinemaByCode === void 0 ? void 0 : cinemaByCode.slice(0, 10).map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cinemaByCode-item\",\n            onClick: () => onChangeShowTime(index, item.maCumRap),\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"cinemaByCode-logo\",\n              src: \"https://s3img.vcdn.vn/123phim/2021/01/bhd-star-bitexco-16105952137769.png\",\n              alt: \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cinemaByCode-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                title: item.tenCumRap,\n                className: \"info-name\",\n                children: item.tenCumRap\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                title: item.diaChi,\n                className: \"info-address\",\n                children: item.diaChi\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"info-detail\",\n                children: \"[Chi ti\\u1EBFt]\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"theater-showtime\",\n        children: showTimes === null || showTimes === void 0 ? void 0 : showTimes.map((item, index) => {\n          if (showTimeByTheater) {\n            var _item$lstCumRap;\n\n            return /*#__PURE__*/_jsxDEV(Fragment, {\n              children: (_item$lstCumRap = item.lstCumRap) === null || _item$lstCumRap === void 0 ? void 0 : _item$lstCumRap.map((cinema, cinemaIndex) => {\n                if (cinema.maCumRap === showTimeByTheater) {\n                  var _cinema$danhSachPhim;\n\n                  return /*#__PURE__*/_jsxDEV(Fragment, {\n                    children: (_cinema$danhSachPhim = cinema.danhSachPhim) === null || _cinema$danhSachPhim === void 0 ? void 0 : _cinema$danhSachPhim.slice(0, 10).map((movieInfo, indeMovieInfo) => {\n                      var _movieInfo$lstLichChi;\n\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"item-info\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"info-top\",\n                          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                            src: movieInfo.hinhAnh,\n                            alt: \"...\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 99,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                              className: \"top-name\",\n                              children: movieInfo.tenPhim\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 101,\n                              columnNumber: 61\n                            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                              className: \"top-rate\",\n                              children: \"157 ph\\xFAt - TIX 0 - IMDb 6.8\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 102,\n                              columnNumber: 61\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 100,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 98,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"info-bottom\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                            children: \"Su\\u1EA5t chi\\u1EBFu:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 106,\n                            columnNumber: 57\n                          }, this), (_movieInfo$lstLichChi = movieInfo.lstLichChieuTheoPhim) === null || _movieInfo$lstLichChi === void 0 ? void 0 : _movieInfo$lstLichChi.slice(0, 7).map((time, index) => {\n                            return /*#__PURE__*/_jsxDEV(NavLink, {\n                              to: '/phongve/' + time.maLichChieu,\n                              className: \"btn-time\",\n                              variant: \"outlined\",\n                              children: moment(time.ngayChieuGioChieu).format('hh:mm')\n                            }, index, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 108,\n                              columnNumber: 68\n                            }, this);\n                          })]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 105,\n                          columnNumber: 53\n                        }, this)]\n                      }, indeMovieInfo, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 97,\n                        columnNumber: 56\n                      }, this);\n                    })\n                  }, cinemaIndex, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 48\n                  }, this);\n                }\n              })\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 36\n            }, this);\n          } else {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"warning\",\n              children: \"Vui l\\xF2ng ch\\u1ECDn r\\u1EA1p !\"\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 36\n            }, this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MovieTheater, \"0eImeR2sjKcAqJgOtnJzeQqKuXc=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = MovieTheater;\nexport default _c2 = /*#__PURE__*/React.memo(MovieTheater);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MovieTheater\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["E:/FrontEnd/Project/newMovie/src/Pages/HomePage/MovieTheater/MovieTheater.js"],"names":["moment","React","Fragment","useEffect","useState","useDispatch","useSelector","NavLink","background","getCinemaSystem","getShowSchedule","getTheTheaterClusterByCode","MovieTheater","dispatch","cinemaSystem","state","MovieManagerReducer","codeCinema","cinemaByCode","showTimes","showTimeByTheater","setShowTimeByTheater","onChangeCluster","key","codeOfCinema","listLogoItem","document","getElementsByClassName","lengthListLogoItem","length","i","classList","contains","remove","add","listCinema","lengthListCinema","onChangeShowTime","showTime","listLength","fetchData","backgroundImage","map","item","index","maHeThongRap","logo","slice","maCumRap","tenCumRap","diaChi","lstCumRap","cinema","cinemaIndex","danhSachPhim","movieInfo","indeMovieInfo","hinhAnh","tenPhim","lstLichChieuTheoPhim","time","maLichChieu","ngayChieuGioChieu","format","memo"],"mappings":"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","sourcesContent":["/* eslint-disable array-callback-return */\r\nimport moment from 'moment';\r\nimport React, { Fragment, useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport background from '../../../Assets/Images/back-news.png';\r\nimport { getCinemaSystem, getShowSchedule, getTheTheaterClusterByCode } from '../../../Redux/Actions/MovieManagerActions';\r\nfunction MovieTheater() {\r\n    const dispatch = useDispatch()\r\n    // He Thong Rap\r\n    const cinemaSystem = useSelector(state => state.MovieManagerReducer.cinemaSystem)\r\n    // Ma He Thong Rap\r\n    const codeCinema = useSelector(state => state.MovieManagerReducer.codeCinema)\r\n    // Rap Theo Ma\r\n    const cinemaByCode = useSelector(state => state.MovieManagerReducer.cinemaByCode)\r\n    // Lich Chieu\r\n    const showTimes = useSelector(state => state.MovieManagerReducer.showTimes)\r\n    const [showTimeByTheater, setShowTimeByTheater] = useState('')\r\n    const onChangeCluster = (key, codeOfCinema) => {\r\n        let listLogoItem = document.getElementsByClassName('logo-item')\r\n        let lengthListLogoItem = listLogoItem.length\r\n        for (let i = 0; i < lengthListLogoItem; i++) {\r\n            if (listLogoItem[i].classList.contains('active')) {\r\n                listLogoItem[i].classList.remove('active')\r\n            }\r\n            if (key === i) {\r\n                listLogoItem[i].classList.add('active')\r\n            }\r\n        }\r\n        let listCinema = document.getElementsByClassName('cinemaByCode-item')\r\n        let lengthListCinema = listCinema.length\r\n        for (let i = 0; i < lengthListCinema; i++) {\r\n            listCinema[i].classList.remove('active')\r\n\r\n        }\r\n        setShowTimeByTheater('')\r\n        // Doi Lich Chieu Theo Cum Rap\r\n        dispatch(getShowSchedule(codeOfCinema))\r\n        // Doi Ma Cum Rap\r\n        dispatch(getTheTheaterClusterByCode(codeOfCinema))\r\n    }\r\n    const onChangeShowTime = (key, showTime) => {\r\n        let listCinema = document.getElementsByClassName('cinemaByCode-item')\r\n        let listLength = listCinema.length\r\n        for (let i = 0; i < listLength; i++) {\r\n            if (listCinema[i].classList.contains('active')) {\r\n                listCinema[i].classList.remove('active')\r\n            }\r\n            if (key === i) {\r\n                listCinema[i].classList.add('active')\r\n            }\r\n        }\r\n        setShowTimeByTheater(showTime)\r\n    }\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            dispatch(await getCinemaSystem())\r\n            dispatch(await getTheTheaterClusterByCode(codeCinema))\r\n            dispatch(await getShowSchedule(codeCinema))\r\n        }\r\n        fetchData()\r\n    }, [codeCinema, dispatch]);\r\n    return (\r\n        <div id='cumrap' className='movieTheater' style={{ backgroundImage: `url(${background})` }}>\r\n            <div className='movieTheater-container'>\r\n                <div className='theater-logo'>\r\n                    {cinemaSystem?.map((item, index) => {\r\n                        return (\r\n                            <div key={index} className={`logo-item ${index === 0 ? 'active' : null}`} onClick={() => onChangeCluster(index, item.maHeThongRap)}>\r\n                                <img src={item.logo} width={50} height={50} alt='...' />\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <div className='theater-cluster'>\r\n                    {cinemaByCode?.slice(0, 10).map((item, index) => {\r\n                        return (\r\n                            <div key={index} className='cinemaByCode-item' onClick={() => onChangeShowTime(index, item.maCumRap)}>\r\n                                <img className='cinemaByCode-logo' src='https://s3img.vcdn.vn/123phim/2021/01/bhd-star-bitexco-16105952137769.png' alt='...' />\r\n                                <div className='cinemaByCode-info'>\r\n                                    <p title={item.tenCumRap} className='info-name'>{item.tenCumRap}</p>\r\n                                    <p title={item.diaChi} className='info-address'>{item.diaChi}</p>\r\n                                    <p className='info-detail'>[Chi tiết]</p>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <div className='theater-showtime'>\r\n                    {showTimes?.map((item, index) => {\r\n                        if (showTimeByTheater) {\r\n                            return <Fragment key={index}>\r\n                                {item.lstCumRap?.map((cinema, cinemaIndex) => {\r\n                                    if (cinema.maCumRap === showTimeByTheater) {\r\n                                        return <Fragment key={cinemaIndex}>\r\n                                            {cinema.danhSachPhim?.slice(0, 10).map((movieInfo, indeMovieInfo) => {\r\n                                                return <div key={indeMovieInfo} className='item-info'>\r\n                                                    <div className='info-top'>\r\n                                                        <img src={movieInfo.hinhAnh} alt='...' />\r\n                                                        <div>\r\n                                                            <h3 className='top-name'>{movieInfo.tenPhim}</h3>\r\n                                                            <p className='top-rate'>157 phút - TIX 0 - IMDb 6.8</p>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className='info-bottom'>\r\n                                                        <h4>Suất chiếu:</h4>\r\n                                                        {movieInfo.lstLichChieuTheoPhim?.slice(0, 7).map((time, index) => {\r\n                                                            return <NavLink to={'/phongve/' + time.maLichChieu} key={index} className='btn-time' variant=\"outlined\">{moment(time.ngayChieuGioChieu).format('hh:mm')}</NavLink>\r\n                                                        })}\r\n                                                    </div>\r\n                                                </div>\r\n                                            })}\r\n                                        </Fragment>\r\n                                    }\r\n                                })}\r\n                            </Fragment>\r\n                        } else {\r\n                            return <div key={index} className='warning' >Vui lòng chọn rạp !</div>\r\n                        }\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default React.memo(MovieTheater)"]},"metadata":{},"sourceType":"module"}